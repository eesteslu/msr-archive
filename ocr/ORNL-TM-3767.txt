o I R

 
 
 

OAK RIDGE NATIONAL LABORATOR

 

operated by
o UNION CARBIDE CORPORATION
» NUCLEAR DIVISION
:& for the
> U.S. ATOMIC ENERGY COMMISSION
ORNL- TM-3767
DATE - May 5, 1972
HYBRID COMPUTER SIMULATION OF THE MSBR
O. W. Burke
ABSTRACT
U
":% A hybrid computer simulation model of the reference 1000 MW(e) MSBR was
developed. The model simulates the plant from the nuclear reactor through the steam
~ throttle at the turbine. The simulation model is being used to determine the dynamic
characteristics of the plant as well as to discover the problems associated with the
control of the plant. \
V NOTICE This document contains informofion of a preliminary nature

and was prepared primarily for internal use at the QOak Ridge National
Laboratory. It is subject to revision or correction and therefore does
not represent a final report.

BISTRBUTION OF THIS DOCUMENT IS UKLIMITED
 

 

This report was prepared as an account of work sponsored by the United
States Government. Neither the United States nor the United States Atomic
Energy Commission, nor any of their employees, nor any of their contractors,
subcontractors, or their employees, makes any warranty, express or implied, or
assumes any legal liability or responsibility for the accuracy, completeness or
usefulness of any information, apparatus, product or process disclosed, or
represents that its use would not infringe privately owned rights.

 

 

r!

»
CONTENTS

Intfroduction . « . « . . . ¢ . . L 0 0 s s s s e e e e e e e e . 4
Descriptionof Computer . . . . . . . . . . . . . ..o .. 0. . 4
Description of MSBR System . . . . . . . . . . . . . . . ... ... 5
Development of the Computer Model of the Plant . . . . . . . . . . .. 6
4.1 Steam Generator Model . . . . . . . . . . . . ... Lo L . 6
4.2 The Analog Computer Model of the System Exclusive of the Steam
Generator « v v v 4 e e e e e e e e e e e e e e e e e .. 16
Results of Simulation Exercises . . . . . . . . . . . . .. .. ... .33
References . . . . & & v v v v v v i v e e e e e e e e e e .. 43
Appendix . . . . . o Lt 0 e e e s e e e e e e e e e e e e ... 44
7.1 A: Development of Computer Model . . . . . . . . . . . . .. . 44

7.2 B

o

Steam Generator Equation Variables . . . . . . . . . . . . . . 66

(mseeme———re—e—————— N O TICE

This report was prepared as an account of work
sponsored by the United States Government, Neither
the United States nor the United States Atomic Energy
Commission, nor any of their employees, nor any of
| their contractors, subcontractors, or ‘their employees,
makes any wartanty, express or implied, or assumes any
legal liability or responsibility for the accuracy, com-
pleteness or usefulness of any information, apparatus,
product or process disclosed, or represents that its use
would not infringe privately owned rights,

 

 

 

e - cynrE g AMPETE
e gy T YRR D T &7 T ORISR
oo 5 I ST VLA et b TR e o
‘,ﬁ_}fa;f t 1‘\1\
\

5 ¥ -r‘
-"«‘;'.);' PEaly Tt
1. INTRODUCTION

In order to get a "fee!" for the dynamic behavior of the MSBR plant as well as to
discover the plant control problems and their solutions, it was imperative that a simula-
tion model of the plant be developed.

Due to the highly nonlinear nature of the once-through steam generator, it was
deemed necessary to have a highly detailed model of this part of the system. Conse-
quently, the model of the steam generator was implemented on the hybrid computer. The
reactor kinetics, core heat generation and heat transfer, primary heat exchanger heat
transfer, piping lags, system controllers, etc., were simulated on the analog computer.

The two computers were interfaced to form a unified simulation model of the system.

2. DESCRIPTION OF COMPUTER”

The ORNL analog-hybrid computer was used in the simulation. It consists of the
new hybrid computer and the older analog computer. The hybrid computer consists of a
PDP-10 digital computer and an AD-4 analog computer. The PDP-10 was manufactured
by the Digital Equipment Corporation, Maynard, Mass., and the AD-4 was manufactured
by Applied Dynamics, Inc., Ann Arbor, Mich. Essentially all of the older analog com-
puter equipment was manufactured by Electronic Associates, Inc., Long Branch, N. J.

The PDP-10 digital computer is a 36-bit word machine with a fast memory storage
capacity of 32K words.

The AD-4 analog computer is a solid state, £100 V reference machine. The mode

switching is accomplished in 1 microsec. It contains patchable logic components

 

* - - . . .
Mention of manufacturers, products, brand names, etc., is for information purposes

only and in no way implies an endorsement by ORNL or the U. 5. AEC.
and the interface for communicating with the PDP-10 digital machine. The interface
contains an analog to digital converter (ADC) with a 32-channel multiplexer. It also
has 20 digital to analog converters (DACS), 12 of which are the multiplying type. The
AD-4 has 60 integrators, approximately 100 other amplifiers, 48 digital coefficient units,
68 servo-set potentiometers, 12 hand-set potentiometers, and 16 multipliers. The patch-
able logic consists of gates, flip=-flops, registers, counters, etc.

The older analog equipment consists of 58 integrators, 102 other amplifiers, 250
hand-set potentiometers, 12 quarter-square multipliers, 15 servo-multipliers, 10 ten~segment

diode function generators, 4 transport lag devices, etc.
3. DESCRIPTION OF MSBR SYSTEM

The proposed 1000 MW(e) MSBR plcmf] consists of o 2250 MW (1), graphite
moderated, molten salt reactor, 4 shell and tube primary heat exchangers, and 16 shell
and tube supercritical steam generators. The reactor core is made up of two zones. The
central zone is ~14.4 ft in diameter and ~13 ft high with o primcfy salt fraction of 0. 13,
The outer zone is an annular region ~1.25 ft thick having a salt volume fraction of 0.37.

The molten salt fuel flows, at a constant rate, upward through the passages in the
graphite core in a single pass and then to the tube side of four vertical, single pass,
primary heat exchangers. The salt temperature entering the core is 1050°F and that at
the core exit is 1300°F.

The heat generated in the primary salt in the core is fransferred from the tube side
of the primary heat exchangers to a countercurrent secondary salt passing through the shell

side. The secondary salt flows in a closed secondary loop to the horizontal supercritical
6

steam generators. The four secondary loops (one for each primary heat exchanger) are
independent of each other, with each loop flowing to four steam generators. The tem-
perature of the secondary salt entering the steam generators is 1150°F and on leaving
the steam generators its femperature is 850°F. The secondary salt flow rate can be
changed by changing the pump speed.

The shell-and-tube supercritical steam generators are countercurrent, single-pass,
U-tube exchangers ~77 ft in length and 18 in. in diameter. Feedwater enfers the steam
generators at 700°F and ~3770 psia pressure, when operating at design point steady state.
At design point, the exit steam conditions are 1000°F and.~3600 psia pressure.

A flow diagram of the MSBR plant is shown in Fig. 1. The interesting physical

constants are listed in Table 1, and the plant parameters are listed in Table 2.

4. DEVELOPMENT OF THE COMPUTER MODEL OF THE PLANT
As previously stated, the hybrid computer is used to simulate the steam generator
in some detail. The older analog computer is used to simulate the rest of the system.
Since the programming techniques for the two above-mentioned computers are quite
different in some respects, the hybrid model of the steam generator shall be discussed

apart from the analog model of the rest of the system.

4.1 Steam Generator Model
The mathematical model of the sfeam generator consists of the differential equations
expressing the conservation of mass, momentum, and energy of the water and secondary

salt. In this model, the variation in the density of the secondary salt was neglected and
SRNL-MWG TR-LE 2

PRIMARY SECONDARY
SALT PUMP SALT PUMP
(4) (4)

   
   
   
 
  
  
  

 

 

 

 

 

 

 

 

 

 

 

 

 

 

 

 

 

 

 

 

 

 

o
REACTOR _1X 10" Ib/hr STEAM at 1000°F
VESSEL—a FLOW r 7 —— .
DIVIDER X 10" Io/hr FEED WATER at 700°F _
dox Sxete
. REMEAT STEAM at 1000°F
at 1300°F - at 1000
712 X10" Ib/hr at 1150°F
PRIMARY
MGORDAEF;-IAITT;)ER/,/" HEAT E(’;‘;HANGER §.16 X 10" Ib/hr at 1150°F
REHEATER
850°F STEAM GENERATOR (EZ’SE
9.48 X 10" Ib/hr at 1050°F - 16)

 

 

 

 

—_—————— -

REHEAT STEAM at 650°F

Fig. 1. Flow Diagram of MSBR Plant. The quantities shown are totals for the entire plant.
 

Table 1. Physical Constants

A. Properties of Materials

 

Cp o
Bty Ib~! °F"! Ib/ft
Primary Salt 0.324 207.8 at 1175°F

k
Btu he™! °F~! 7!

 

 

 

Secondary Salt 0.360 117 at 1000°F ===
Steam
726°F 6.08 2.7 em—--
750°F 6.59 11.4 —~————
850°F 1.67 678  mmme-
1000°F 1.11 503 = me==—-
Hastelloy-N
1000°F 0.115 548 9.39
1175°F 0.129  e-=-- 11.6
Graphite 0.42 ns - m=——-
B. Reactor Core
Central Zone Quter Zone
Diameter, ft 14.4 16.9
Height, ft 13 13
Salt volume fraction 0.132 0.37
Fuel By
Graphite-to=-salt heat transfer
coefficient, Btu hr=! ft=2 °F-! 1065
Temperature coefficients of reactivity, °F"
primary salt -1.789 x 1073
graphite +1.305 x 107°
Thermal neutron lifetime, sec 3.6 x 1074
Delayed neutron constants, B = 0.00264
: B; )\;(sec-l)
1 0.00102 0.02446
2 0.00162 0.2245

 

C. Heat Exchangers

 

Primary Heat

Exchanger

Length, ft 18.7
Triangular tube pitch, in. 0.75
Tube OD, in. 0.375
Wall thickness, in. 0.035
Heat transfer coefficients, Btu hr~! ft=2 °F~!

tube~side-fluid to tube wall 3500

tube=wall conductance 3963

shell-side~-fluid to tube wall 2130

Steam Generator

 

 

72
0.875
0.50
0.077
Steam Outlet Feedwater Inlet
3590 6400
1224 1224
1316 1316

 
Table 2. Plant Parameters (Design Point)

Reactor Core

Heat flux

Primary salt flowrate

Steady state reactivity, fo

External loop transit time of primary salt

Heat generation

Salt volume fraction

Active core volume

Primary salt volume

Graphite volume

Primary salt mass

Graphite mass

Number of graphite elements
Heat transfer area

Average primary salt velocity
Core transit time of primary salt

Primary Heat Exchanger (total for each of four exchangers, tube region only)

 

Secondary salt flow rate

Number of tubes

Heat transfer area

Overall heat transfer coefficient
Tube metal volume

Tube metal mass

Volume
Mass
Velocity
Transit time

Steam Generator (total for each of 16 steam generators, tube region only)

Steam flowrate
Number of tubes
Heat transfer area
Tube metal volume
Tube metal mass

Volume

Mass

Transit time
Average velocity

7.68 x 109 Btu/hr (2250 Mw(th)]

9.48 x 107 tb/he
0.00140
6.048 sec

Zone |
1830 Mw(th)
0.132 3
2117 ft
279 ff33
1838 ft
58,074 Ib
212,213 Iba
1466
30,077 f12
~4.80 ft/sec
2.71 sec

1.78 x 107 Ib/hr
6020

Zone I
420 Mw(th)
0.37 3
800 ft
296 3
504 ﬂ'3
61,428 Ib
58,124 Ib
553
14,206 2
~1.04 ft/sec
12.5 sec

11,050 ft2
993 Bty hr~! ft72 of~!
30 13
16,020 Ib
Primary salt (tube side} Secondary salt (shell side)
57 3 295 3
11,870 Ib 34,428 Ib
10.4 ft/sec 2.68 ft/sec
1.80 sec 6.97 sec

7.38 x 10° Ib/hr
434

4,102 ft

22 §t3
12,203 Ib

Steam (tube side)
20 1
235 [b
1.15 sec
~62.8 ft/sec

Secondary salt (shell side)

102 #3
11,873 Ib
9.62 sec
7.50 ft/sec
10

hence only the conservation of energy is considered for the secondary salt. The equations,
written in one space dimension, x, (the direction of water flow) and time, t, are as

follows:

Conservation of mass (water)

% ., 3 0.
5 " 5% (ov) = 0 ; (1)

Conservation of momentum (water)

 

olov) . 3 2 _ _kep _ 2 5
5t o V) oax O @)
Conservation of energy (water)
2 (ph) + S (ohv) = k.H(e - T) ; (3)
ot X 1 ! -
Conservation of energy (salf)
Hk
36 3 %2
_8—1T+ Sg;(-—pc (T - 9) . (4)
s"p
The equations of state for water:
T = Tp,h) ;
o = plp,h) .

The definitions of the variables used in the above equations are as follows:

T

i

water temperature, °F,

water density, lb/’r'i*3,

©
il
11

v = water velocity, ft/sec,

p = water pressure, Ib/inz,

¢ = coefficient of friction,

k = constant used to make units consistent,

h = specific enthalpy of water, Btu/lb,

H = heat transfer coefficient, salt to water, B’ru/sec—ﬂ'z-"F,

k] = ratio of the surface area of a tube to the water volume in the tube, f’r—!,
k2 = ratio of the surface area of a tube to the salt volume adjacent to the tube, f’r_1,
b, = salt density (assumed constant), lb/Ff3,

& = specific heat of salt at constant pressure, Biu/Ib=°F (assumed constant),
9 = salt temperature, °F,

\ = salt velocity, ft/sec.

It was determined in previous work2 that a continuous-space, discrete~time model
is most satisfactory for this steam generator simulation. By a judicious choice of the
direction of integration in space, of the various dependent variables, an initial value
problem can be formed. Since the water enthalpy, h, and the water pressure, P, are
known at the water entrance end of the exchanger (left end), these variables will be inte-
grated from left to right. For the sume reason, the water velocity (it can be calculated at
the throttle) and the salt temperature will be integrated from right to left.

The critical flow at the throttle is expressed by the following nonlinear relationship

among the system variables at a point just before the throttle:
 

where A_ is the instantaneous value of the throttle opening, A the initial steady

T T,0
state value, M the critical flow constant, and b an empirical constant (assumed to be
equal fo 0 in this simulation).

AT,O is taken as 1.0 and »AT is varied as a function of time during transients.
By simplification of Egs. (1), (2), (3), and (4), and using the backwards differ-

encing scheme for the time derivative, the following ordinary differential equations are

 

 

 

generated.
b _ v o’ p VW
dx  k dx k k At !
h - h

dh 1 _ _ k

= v HgHe -1 - =5

dv _ v 2%

dx o dx pAt

9‘9_=+Hk2(T-e)_e-ek

dx pCV v At
SpPs s

In the above equations, the nonsubscripted variables are the ones being iterated
for the values at the end of the (k + 1) time increment, while the variables with the
» - fh - - »
k subscripts represent their values at the end of the k' time increment. The time

increment is represented by Af .
13

Since the v and 6 equations are being integrated from right to left, they must be

Il

transformed using a different space varioble. Let y = L - x, where L is the total length

of the steam generator in the x direction. The new v and 6 equations become:

 

Hk2(T - 0) ] 6 - 9
dy pschS (y) VS (y) At

 

In the hybrid program developed from the above equations, the integrations are
performed on the AD-4 analog computer. The digital computer calculates the terms of
the differential equations, provides control for the calculation, and provides storage.
The AD~-4 patchable logic is used in the problem control circuitry as communication link-
ages between the digital computer and the AD-4 analog computer. The patchable logic,
along with BCD counters, is also used for problem timing and time synchronization be-
tween the digital computer and the AD-4 analog computer.

The thermodynamic properties of water are stored in the digital computer as two-
dimensional tables. An interpolation routine is used to develop values from the numbers
in the tables.

The calculational procedure for a time step, At, isas follows:

The current values of the water temperature, T, and water pressure, p, at the
water enfrance end (left end) of the steam generator are read and stored in the digital

computer. The current value of the secondary salt femperature, 6, at the salt entrance
 

14

end (right end) of the steam generator is read from the continuous time analog model and is
stored in the digital computer. The secondary salt velocity, Vs , and the throttle valve
position, AT , are also read from the continuous time analog model and their values are
stored in the digital computer.

The terms of the dh/dx and dp/dx equations are calculated by the digital computer,
using the values of the variables at the left end of the steam generator. The values of these
terms as well as the values of the initial conditions of h and p are set on the coefficient
devices representing them on the AD-4 analog computer. This coefficient device setting
is implemented by a command from the digita!l computer. Upon a command from the digital
computer, the h and p integrators on the AD-4 computer start integrating in x . While
the integration is proceeding, the digital computer is calculating the differential equation
terms for the next space node (a space node is 1 foot long). When the digital calcula-
tions have been complefed, the digital computer interrogates the AD-4 computer, through
the patchable logic, as to whether or not its integrations have reached the end of the node.
Upon getting an affirmative answer, the digital computer reads and stores the values of p
and h from their integrators on the AD—4 computer. These integrators are in the hold mode
at this time, having been placed in this mode by a logic signal from a BCD counter signifying
that the end of a node has been reached. The digital computer sets the coefficient devices
to their newly calculated values and starts the integrators to integrating over the next node.
This procedure is repeated for each spatial node until the right-hand end of the steam generator
is reached.

With a procedure identical to that above, and with the current values of p and h,
the salt temperature and water velocity differential equations are integrated from right to
left. When the right to left integrations have proceeded to the left boundary, they are

halted.
15

The left to right integration of p and h is repeated, using the current values of
P, h, v, and 8. The right to left integration of v and 6 is repeated, etc., until
the convergence is satisfactory.

In actuality, the convergence was experimentally determined to be satisfactory
after five iterations and this number was used in the program. A definite number of
iterations is dictated by the fact that time synchronization must be maintained between
the discrete time steam generator model and the continuous time model of the remainder
of the system.

The time allotted for a time step, At, is set on a BCD counter such that the counter
will give out a logic signal signifying the end of the time step.

At the end of the fifth iteration, the digital computer starts interrogating the AD-4
computer to see if the allotted At time has elapsed. When the digital computer gets an
affirmative answer, it reads and stores the current values of the appropriate variables from
the continuous time model and another time step calculation is started. Of course, this
procedure is repeated for as long as the simulation is in operation.

It was experimentally determined that the calculational stability was not good for
time steps very much less than 0.5 sec. As a consequence, a At of 0.5 sec was used.

It was also experimentally determined that the completion of five iterations required
in excess of 8 sec. As a result, 10 sec of computer time was made the equivalent of 0.5 sec
of real system time. The continuous time model was time scaled accordingly {machine time
= 20 times real system time). The sampling rate of the continuous time model was, there-

fore, once each 10 sec. This means that the values of variables generated in the continuous
16

time model and used in the discrete time steam generator model are sampled once each
10 sec of machine time, which corresponds to 0.5 sec in real system time. Ina like
manner, the variobles generated in the discrete time steam generator model and used
in the continuous time model of the remainder of the system are updated once each
10 sec in machine time.

The Fortran source program for the digital portion of the simulation is included as
Appendix B. The AD-4 analog and patchable logic circuits are shown in Fig. 2.

4.2 The Analog Computer Model of the System
Exclusive of the Steam Generator

The computer model of the reactor, primary heat exchanger, piping, etc., isa

continuous time, lumped parameter, model similar to those traditionally used on analog

computers. The heat flow model is shown in Fig. 3.

4.2.1 The Nuclear Kinetics Model

 

Experience has shown that for the rather mild transients for which this model is
intended, a two-delay-group nuclear kinetics model is c:u:h:aquc:te.3 That this is a cir-
culating fuel reactor adds to the complication of the model.

The nuclear kinetics equations are as follows:

 

P _ (o - B) _

o T T PG LG
dc, B, c, e‘M"’l
_gf_:.]\_p_;\]c]-?-+ - C](i' 'rl),
Fi

n

o)

 

17

 

 

 

 

 

 

 

 

 

 

 

 

 

 

 

 

f_ CORE
i_ _________ r——— T 7771 l__.l ____________ I __ 1
' t o |
ZONE t PRIMARY ZONE 11 PRIMARY SECONDARY| |
ll sALT : : : sar | saLT | |
1 Tir \ LW |
' =2 J1 PRIMARY | | | \ . !
| | GRAPHITE | | SALT Lo l \ Tuee I |
l T, | T, . T“ \ |
52 103 1
| PRIMARY | | | | PriMary \ [seconparv] |
I SALT I I SALT saLT i
: T ! Iy Tie Tea :
| I : GRAPHITE : I I l |
Tea |
ll PRIMARY : < | 1| primaRY SECONDARY }
‘ | SALT
I S:LT i \\ : \ S:LT \ ‘ I
! o § N prmary | b \ < I
} | GRAPHITE ] ! SALT i J W TuBt [ |
! o P ! T Py T2 i
I PRIMARY | | | [ PrMary Y seconoaavl |
! SALT I 1oy SALT N saLT I
I Ti : I Tio Ter )
L A O -
(Tt i Ao
| |
| [

Fig. 2. Lumped-Parameter Model of MSBR Core and Heat Exchanger.

 

 

 

 

 

 

 

 

 

 

 

 

 

 

 

 

 

 

 

 

 

 

 

 

 

 

 

 

 

 

 

 

 

 

 

 

 

REACTOR CORE

ORNL-DWG 72- 3833

 

 

 

 

 

 

 

 

 

 

PRIMARY HEAT EXCHANGER
o P- SIGNAL
Cros)

 

   

ORNL DWG.

 

AND GATE @ b >
LoD o g -
|

 

 

 

 

72-5794

 

 

 
  
 
 

 

 

 

 

 

 

 

 

 

 

 

 

 
 

 

 

 

 

 

 

 

 

 

 

 

 

 

 

 

 

 

 

 

 

 

 

 

 

 

 

BCOD LEFT To RigHT
lCounTER INTESRA TioH
,._.‘L; ‘@"_ ROsc
Pc; I‘N‘: ( "
& 2 [’jﬁ' 2 7% EaracP]
o P ADc
c & > CHAN T
& AR _r 223 - -
o o= £ ey
I § 2
~ Z PRe TiME SIEP
A “ A 3 o
1S igna o & Turier
L1 ms) 2 30 &
25 C% v o ©
LEFT Yo ¥uisnT ’ - TH g 40 4
- 3 1 O— O O
L T P 2 =
Timen O
SWITCH W e 1
- B 2.
25) 34 234
s
ZTRTRAT = T | TENTE = 20
TR AT Ol ol0] OISO IS I IR 1 [ PRkl olofelaolslelolpleld
L xS 7 2 i 4 L taln el e T - /
2lo <
A 26
;__1 232
- 4
bT 233 e

 

 

 

IDM (5)

 

 

 

 

 

    
 

 

 

 

 

 

 

 

 

 

 

  
 
 

 

 

 

 

 

3

 

a3 e
< (r215)

Fig. 3. Patching Schematics for the AD-4 Computer.

RALo
COuUNnTLR
N A2 vELe Y
cL . ADC
&3 455
ler I 240
B S1anAL (1712 G“‘—'_o 0
Co PR
D
RiamT To Lefy | o
A Co PR
QPLERATE CY.L L O G
TimeR 80 a Liadl Tp LLF7
0 O L,+ INTEGRA 7104
40 -
o O IDV{T)
2e 2 R- DA
’Oo ? 2213
SWITEH w O
STEAY VELD Y 47 Tkl o

 

 

8l
 

 

   

  

   
   

- SfGNA‘L
GrD)

ORNL DWG. 72-5794 -

     
 

  

b
k

  
   

 

i

Lims)
M E LAEL) 2
“‘t:!f‘ :! =‘ ! Sadl
Times

  

oF o 08 O ol

     
   
  

P- S 16401 (100 #5)

 

0~ On O+ Oa OROY O

it

  

   
    
    
   
  
 
    
 

  
    

  
 

NV (waTkE vaissiy) oc
rres

      

  

STear Toerr. AT THARoWI L

of

2 SrewAL (Im)

  

ARIGHT Te Larr ToH

opfrate cyiil
Tiin adl Ta Lef?

 

InTRGRA ey

soyototoliof &l

   

O=0Qn Q4 On

S1GNAL
Crr1s)

TH

Fig. 3. Patching Schematics for the AD-4 Computer.

 

 
19

ic, &, c, 2
TR NG s Gl “)
c c
where
P = the nuclear power level,
P = reactivity,
8 = total delayed neutron fraction,
A = mean neutron lifetime,
X] = decay constant for delayed neutron group No. 1,
C] = delayed neutron precursor concentration of group No. 1,
?\2 = decay constant for delayed neutron group No. 2,
C2 = delayed neutron precursor conceniration of group No. 2,
B] = delayed neutron fraction for group No. 1,
8, = delayed neutron fraction for group No. 2,
T. = reactor core resident time of the circulating fuel,
= resident time of the circulating fuel in the loop external to the core.

In the model, the fuel salt flow rate is assumed constant; therefore, T and T
are constants.
The development of the computer model of the reactor kinetics from the above

equations is shown in some detail in Appendix A.
20

4.2.2 The Reactor Core Heat Transfer Model

 

In the simulation model, core zone 1 contains two graphite fumps, and core zone 2
confains one graphite lump. There are fwo fuel salt lumps adjacent to each graphite lump.
The outlet temperature of the first adjacent fuel salt lump (in the direction of salt flow)
is used as the average fuel salt temperature in the equations describing the heat transfer

between a graphite lump and the fuel salt lumps adjacent to it.
The typical heat balance equation for core graphite heat generation and heat transfer

is as follows:

dT .
41 pg i hegPgilTe = Ty + KiP

where

Mgi = the mass of graphite in the ith [ump, Ib,

Cpg = graphite heat capacity, Btu/lb-°F,

Tgi = the average graphite temperature in the ifh graphite lump, °F,

hfg = the overall heat transfer coefficient between the graphite and the fuel salt,
B’ru/f’r2—°F-—sec,

Agi = the heat fransfer area between the graphite in the ith lump and the fuel adjacent
to it, F’rz,

:I'_ﬁ = the average temperature of the fuel salt adjacent to the graphite in the ith graphite
lump, °F,

Kgi = the fraction of total fission power that is produced in the ifh graphite lump,

P = total fission power produced by the reactor, Btu/sec.

The typical heat balance equations for the generation and transfer of heat in the

core fuel adjacent to the ith graphite lump are:
and

where

foi

21

fi = =
Mficpf dr Ficpf(Ti,in Tfi) * thAFi(Tgi TFi) T KﬁP
dTFoi T T
MeCor ar = FiCoflTe ™ Tt ¥ PePalTy ~ Tr) + KgP

one-half the mass of the fuel salt adjacent to the graphite in the ith graphite
lump, b,

fuel salt heat capacity, Btu/lb=°F,

fuel salt mass flow rate adjacent to the ifh graphite fump, Ib/sec,

the fuel salt temperature as it enters the ifh graphite tump, °F,

one-half the heat transfer area of the ifh graphite lump, Ffz,

one~half the fraction of the total fissi;an power that is generated in the fuel salt
adjacent to the th graphite lump,

the fuel salt temperature at the salt discharge end of the ':fh graphite lump, °F.

The detailed development of these equations into the fime and magnitude scaled

computer equations is shown in Appendix A.

4.2.3 Piping Lag Equations

 

The piping lags between the reactor core and the primary heat exchanger shall be

considered the same in both directions. They will be treated as first order lags, implying

perfect mixing. The resulting equations are as follows:
 

 

dein ]
a1 (TRO - Txin !
X
and
dT
fin _ 1
dt o7 (THO Tfm) !
X
where
Txin = fuel salt temperature at the primary heat exchanger inlet, °F,
UV fuel salt residence time in piping between the reactor core and the primary heat
exchanger, sec,
TRO = average fuel salt temperature at reactor core outlet, °F,
Tfin = fuel salt temperature at reactor core inlet, °F,
TﬂO = fuel salt temperature at the primary heat exchanger outlet, °F.

4.2.4 Primary Heat Exchanger Equations

 

For the simulation, the primary heat exchanger is broken up into two primary salt
lumps, two tube metal lumps, and two secondary salt lumps. Each of the primary and
secondary salt lumps is divided into two identical half lumps, and the outlet temperature
of the first half lump is used as the average temperature in the heat transfer equations.

Since the secondary salt mass flow rate can be changed by changing the circulating
pump speed, the heat transfer coefficient between the tube wall and the secondary salt
will vary with salt mass flow rate. As an approximation, the heat transfer coefficient
was considered to be proporfional to the secondary salt mass flow rate raised to the 0.6

power.
23

The typical heat balance equations for the primary salt in the primary heat exchanger

are as follows:

dl

fi _
Mficpf dt - Fxcprf(i—n T+ hprFx(Tfi Tei)
and
dT
Fli+1)
Moot —ar— = BCortTa ~ Tigend * PPl = T
where
i = 7when j=1, and i =9 when j=2,
Mfi = Mf(i+l) = one-fourth the total primary salt mass in the primary heat exchanger,
Ib,
Cpf = the heat capacity of the primary salt, Btu/lb. =°F,
Fx = primary salt mass flow rate in the primary heat exchanger, Ib/sec,
hfp = the overall heat transfer coefficient between the primary salt and the heat exchanger
tube wall, B’ru/ffz'-sec—"F,
Afx = one-fourth the total heat transfer area between the primary salt and the primary
heat exchanger tubes, th,
Tfi = the average ’rempercturé of the tube wall metal in the ith fump, °F.

The heat balance equations for the primary heat exchanger tube metal are the

following:
 

24

dT

MiCrar = bl = Ty) = hycA Ty - Ty

and
de2
MiCr o = hlTe ~ T2~ i - Ted)

where

MT = mass of fube metal in lump number one = one-half the total tube metal mass in
the primary heat exchanger, Ib,

CT = the heat capacity of the tube metal in the primary heat exchanger, Btu/lb-°F,

TH = the average temperature of the tube metal in lump number one, °F,

AT = the heat transfer area between the primary salt and the tube walls in any tube
metal lump, F’r2,

hTC = the overall heat transfer coefficient between the secondary salt and the tube
walls in the primary heat exchanger, B’ru/f’rz-sec—"F (this is a variable in the
equation),

TC3 = the secondary salt temperature at the outlet of secondary salt lump three, °F.

The heat balance equations for the secondary salt in the primary heat exchanger

are the following:

dT

cl l
Mccpc dt Fccpc(Tcin - Tcl) ¥ thAc(TfZ - Tcl) i

 
and

Tc

I

25

dT

 

 

 

c2 _ _ )

Coc a7 FeCoclTer ~ Tl F AT - Ty
ch3

¢ pc df - Fccpc(TCZ - Tc3) * thAc(Tﬂ - Tc3) ‘
ch4

M<;Cpc at Fccpc(TCB - Tc4) * thAc(Tﬂ - Tc3) ‘

one=fourth the total secondary salt mass in the primary heat exchanger, b,
the heat capacity of the secondary salt, Btu/Ib-°F,
th

the temperature of the secondary salt at the outlet of the i secondary salt lump,
OF,
the mass flow rate of the secondary salt in the primary heat exchanger, Ib/sec
(this is a variable),
the secondary salt temperature as it enters the primary heat exchanger, °F,
one~fourth the total heat transfer area between the secondary salt and the primary

2
heat exchanger tubes, ft,
the overall heat transfer coefficient between the metal tubes and the secondary
salt in the primary heat exchanger (this is a variable and proportional to the

secondary salt mass flow rate raised to the 0.6 power).
26

The heat balance equations for the secondary salt in the primary heat exchanger

are as follows:

 

dT .
ci _ _ _
Mcicpc: dt Fccpc[Tc(i-]) Tci] ¥ thAc(T’ri Tci)
and
dT
c(i+l) )
ci pc dt - Fccpc[Tci Tc(i+l)] ¥ thAc(Tfi Tci) !
where
i = 1 when | =2, and i =3 when j=1,
Mci = one~fourth the secondary salt mass in the primary heat exchanger, b,
Cpc = the heat capacity of the secondary salt, Btu/lb~°F,
FC = secondary salt mass flow rate in the primary heat exchanger, Ib/sec (this is a
variable in the simulation),
Tci = average secondary salt temperature in the ith lump, °F,
Ac = one-fourth the total heat transfer area between the secondary salt and the tube

walls in the primary heat exchanger, ﬁz.

The development of the computer equations for the primary heat exchanger is shown
in Appendix A.

The patching diagram for the old analog computer is shown in Fig. 4.
( “ o AY " D aF (

ORNL DWG. 72-5793

   
  
 
 

LA L. Ee

N

  
 
   

 

18y
-4’

4389 :-ij

=T

13 oy s RS

St

     
    
  
 
    

~Thes

Vg et s
ot . m)

< Cant-TY

Fig. 4. Patching Schematics for the Old Analog Computer.

 

Le

et e 1 TR T TA

 
28

4.2.5 System Controllers

 

Probably the most important thing to be considered in the automatic control of the
system is'that of avoiding freezing of the primary or secondary salt. Of course, the steam
conditions at the turbine throttle must also be closely controlled. Previous sfudie.-s4 have
shown that it is impossible to realize both of the above objectives without adding auxiliary
devices to the system. Two possible solutions have been suggested. One is to add a sec-
ondary salt bypass line and mixing valve around the primary heat exchanger so that a con-
trolled portion of the secondary salt can be bypassed while the steam temperature at the
throttle is controlled. The other proposed scheme is to use the salt sysfem as it is and to
allow the steam temperature to change freely in the steam generator and then attemperate
it to the desired temperature for the turbine.

In this simulation, the steam attemperation scheme was assumed.

Three controllers were incorporated into the simulation.

4.2.5.1 Reactor QOutlet Temperature Controller

 

This controller was essenfially the same as that described by W. H. Sides, Jr., in
ORNL-TM-3102.4 The reactor outlet temperature set point, Tro SET ¢ Was proportional

to the plant load demand. The set point equation was the following:

Tr = 250 P

o SET demand T 1090

where P is the fraction of full load demand.
demand

Since the scaled variablesare P and T, where P = 0.08P and T = - T
S ros s ros 20 ro’

the scaled equation is:
29

= 0.15625 P + 52.50 .

Sdemand

Tos SET

The reactor power level set point was proportional to the difference between the
outlet temperature set point and the measured reactor inlet temperature. The scaled

equation is as follows:

P = 6.4(T

s SET Teing -

ros SET ' fins

A reactor power level error was obtained by taking the difference between the
power sef point value and the measured value (from neutron flux). The resulting equation
is

e:Ps_PsSET'

This power level error, ¢, was the input signal to a control rod servo described

by the second order fransfer function:

Gw2 _0(5)

52 + 2SwS + w2 e(s) 1

 

1) =

where G is the controller gain, w is the bandwidth, S is the damping factor, and 0(S)
is the Laplace transform of the servo output, dpc/df .

In this simulation, the bandwidth was 5 Hz and the damping factor was 0.5. The
gain of the controller, G, was such that for |e| = 1% of full power, the control rod

reactivity change rate was about 0.01%/sec; that is,
30

dp

c —
_CTi'__ = 0.0l%/sec ’

where P. is the control reactivity.
For power level errors in excess of 1% of full power, the rate of change of reactivity
was limited to 0.01%/sec.

4.2.5.2 Secondary Salt Flow Controller

 

The secondary salt flow rate controller forced the flow rate to follow the load demand
in a programmed manner. The programmed flow rate is that required to prevent the salt sys-
tems from approaching their respective freezing points. The program was deduced from a
series of steady state calculations performed by W. H. Sides, Jr.

Since, in the simulation, we are assuming that the salt density is constant, a change
in the salt velocity is equivalent to a change in the salt flow rate. The programmed equa-
tion is

velocity fraction = 0.875 load fraction + 0.125 .

In the simulation, a velocity fraction of one is equal to 80 volts and a load fraction

of one is also equal to 80 volts. The equation becomes:

velocity fraction = 0.875 load fraction + 10.0 .

4.2.5.3 Steam Pressure Controller

 

The steam pressure controller was used to control the steam pressure at the turbine
throttle. The pressure sensor was assigned a time lag with a time constant of 0.1 sec.

The pressure was changed by changing the speed of the feedwater pump.
31

The simple proportional controller equation is

dP

P) = —

G Pser ~P) = or

The gain, Gp , was such that a pressure error of 1% of design point pressure would
cause the inlet pressure to be changed at a rate of 3.6 psi/sec.
The controllers were simulated on the old analog computer. The wiring schematics

are shown in Fig. 5.
32

ORNL DWG. 72-5792

 

 

 

 

DEMAND

POT +Pﬂ DEriauh

 

%
—MOV-.———_./Q?;?——
e
+

 

GENERATOR
OEAD AV POWER DEMAND ToR

~OQ2) g + wioov
~léow @ @ O et T m m — — e — = e e e - e e — = = —

- s5ec. SALT

 

 

     

VELOQITY
FRACTION

TRACK- HOLD

7
- 100\1.—-——(0%0\"3772
N4
STEAM PRESSURE CONTROLLER

Fig. 5. Patching Schematics for the Simulation of the System Controllers.
33

5. RESULTS OF SIMULATION EXERCISES

The severity of the transients that can be run on this simulation model is somewhat
[imited by the nature of the steam generator model (the calculational time step is 0.5
sec).

The transients were run in order to determine the system response times, the rates
of change of temperatures, and whether the salt temperatures approached the freezing
points.

The conditions and results for the fransients that were run were as follows:

1. Steady State Part Loads

The purpose of these computer runs was to determine the values of the system
variables when operating at various fractions of full load. The system controllers were
in operation as the load demand was changed from one level to another.

The load demand was changed by changing the turbine throttle opening. The area
of the throttle opening was changed in increments of 10% of design poinf throttle area.
The range of throttle openings covered was from the design point opening down to 30%
of design point opening. The percentage of throttle area turned out to be very nearly
the same as the percentage of load for each case.

Probably the thing of most interest was whether either the primary or secondary
salt approached its respective freezing point for these part load operations. The results
of interest are shown in Fig. 6.

It is evident that the temperatures in both salt systems are well above their respec-

tive freezing points (930°F for the primary salt and 725°F for the secondary salt).
34

ORNL~-DWG 72-3832

 

1300 , l | } I

—~PRIMARY SALT AT
REACTOR OUTLET

1200 — \.L\
q __SECONDARY SALT

AT STEAM

1100 ~+ T GENERATOR INLET
//

‘ PRIMARY SALT AT
— T R B REACTOR INLET

 

 

 

 

 

 

 

 

 

 

 

 

 

 

 

 

   

TEMPERATURE (°F)

 

    

 

 

 

 

 

 

 

 

 

1000 -STEAM AT THROTTLE | i
! _~SECONDARY SALT AT
/ STEAM GENERATOR OUTLET
900 i e e ————]——
800 | . '

100 30 80 70 60 50 40 30 20 10 c
THROTTLE AREA (% of design point areg)

Fig. 6. Temperatures in the MSBR System for Part Load Operation.
35

2. Rapid Change in Load Demand

A number of fast changes in load demand were run in order to observe the resulting
system response. The rates of change of the system temperatures were of interest. The
secondary salt temperature at the steam generafor outlet changed at a rate of approxi-
mately 4.5°F/sec for the case when the load demand was ramped from full load to 40%
full load in 1-2/3 sec. The results of the case where the load demand was ramped from
100% to 40% in 3 sec are shown in Fig. 7.

3. Changes in Secondary Salt Flow Rate

In order to observe the system response to a change in secondary salt flow rate, the
secondary salt flow rate was reduced from full flow to 75% of full flow on a 5-sec ramp.
The results are shown in Fig. 8.

4. Step Changes in Nuclear Fission Power Level

Step increases and decreases in nuclear fission power were implemented in order
to observe the system response to same. The system response to a step change in nuclear
fission power from full power to 75% power is shown in Fig. 9.

5. Changes in Reactivity

As a rough approximation of inserting two safety rods (each worth =1.5% in 6k/k),
~3% sk/k was ramped in in 15 sec. The results are shown in Fig. 10.

As a rough approximation of a fuel addition accident, +0.2% tk/k was ramped in in

1.5 sec. The results are shown in Fig. 11,
Fig. 7.
40% in 3 sec.

 

 

36

ORNL-DWG 72-3834

 

      
    
   
 

1250
2 REACTOR POWER
z
=
0
T 1500
PRIMARY SALT AT
REACTOR OUTLET
1000
1300 L ,
PRIMARY SALT AT
- REACTOR INLET
800 |-
E m GRAPHIC CONTRDLS CORPORATIHON BUFFALD, NEW YORK L
e 1400 SECONDARY SALT AT
W 'STEAM GENERATOR -
e INLET =
<1
a
W)
o
us.l
£ 900
950 SECONDARY SALT AT
STEAM GENERATOR
OUTLET
750 |
1280 |
STEAM AT THROTTLE -
1 880
125
W o
© =z ' : ; =
Ee SECONDARY SALT VELOCITY
m -
g5
w wv
a w
o
0
0 20 40 60 80
TIME (sec)

System Response to a Ramp Change in Load Demand from 100 fo
37

ORNL-DWG 72~ 3835

 

 

 

 

 

1250
_ REACTOR POWER
QL
=
=
0
]rﬁsoo
PRIMARY SALT AT
REACTOR OQUTLET
1000
1300
PRIMARY SALT AT
REACTOR INLET
_— 800 )TFFCTA‘IT!J GRAPHIC CONTROLS GO
E- 1400 NG LHANTE LS CORPOR,
I.&:J SECONDARY SALT AT
o STEAM GENERATOR
b INLET
o
w
a
=
'_uJ__ 300
950
SECONDARY SALT AT
STEAM GENERATOR
QUTLET
750
1200
STEAM AT THROTTLE
800
- 125
5z
E &
&3 SECONDARY SALT VELOCITY
w m '
e w .
0]
0 20 40
TIME (sec)

Fig. 8. System Response to a Ramp Change in Secondary Salt Flow Rate
from 100 to 75% in 5 sec.
38

ORNL~DWG 72~ 3836

L

'REACTOR POWER -

1250

 
  

  
     
 
     
     
     
   
  

 

 
 

    
    
   
 
  

 

=
=
3
0
1400
PRIMARY SALT AT
REACTOR OUTLET
900
1300 _
PRIMARY SALT AT
REACTOR INLET
800
L 1400 'SECONDARY SALT AT
w 'STEAM GENERATOR
S INLET
=
<
o
Ll
Qa
2
T 900 |
950 SECONDARY SALT AT
- STEAM GENERATOR
T OUTLET
750
1200
- STEAM AT THROTTLE
1
[ 800
125
L2 ‘ -
£ 9 SECONDARY SALT VELOCITY
wl
¢&
w v
a i
0

0 20 40 60 80 100 120
TIME (sec)

Fig. 9. System Response to a Step Change in Nuclear Fission Power from
100 to 75%.
MW (e)

e |

 

 

800
w 1400 bttt
e
Ll
x
>
g
o
w
s
LFI_J 900
950
750
1120
| P
125
w
o=z
- O
Z 0
L
g5
W &
o w
o 0
O 5 10 t5 20
TIME (sec)
Fig. 10.

r—- 1400

39

1250

900
1300

 

 

ORNL-DWG 72- 3837

REACTOR POWER

PRIMARY SALT AT
REACTOR OUTLET

PRIMARY SALT AT
REACTOR INLET

SECONDARY SALT AT
STEAM GENERATOR
INLET

SECONDARY SALT AT

* STEAM GENERATOR

QUTLET

STEAM AT THROTTLE

SECONDARY SALT VELOCITY

System Response fo Insertion of Two Safety Rods.
Fig. 11.

40

ORNL-DWG 72~3838

o L , 401 3
= '~ REACTOR POWER"
3 | “RES e

J;Jl
>
o
o

PRIMARY SALT AT

_REACTOR QUTLET

900

1300
PRIMARY SALT AT
REACTOR INLET

 

 

 

 

 

 

 

 

 

 

 

 

 

 

 

 

 

 

 

800 !- - -
w1400 |1 [ 7| SECONDARY SALT AT
; q 1 | { STEAM GENERATOR
x 1 T INLET N
E I % [ ni |
g SRR 44 -
ul L¥ T T
n- | - 4 - . L
& 900 WL A EPEFELT L] L
N 950, . . . .| SECONDARY SALT AT

¢ =111 STEAM GENERATOR

L Ll OUTLET

i i o i

-+ ]

 

 

750 -+
1120 — -

 

 

 

 

 

 

 

 

 

 

 

 

 

 

 

 

 

 

 

 

 

 

 

 

 

 

 

 

 

PERCENT OF
DESIGN POINT

 

 

 

 

TIME (sec)

System Response to a Ramp addition of 0.2% sk/k in I.5 sec.
41

6. Uncontrolled Increasing Load Demand
An uncontrolled load demand accident was simulated by increasing the load demand
from 30% load to full load at a rate of 40% full load per minute (ten times normal rate).

The results are shown in Fig. 12,
42

ORNL-DWG 72-3839

1250 'F——l* L
Ll { 1411 1T T
L]——r"”}’ rwd W ],T T4t

CTOR POWER
] ‘ L 4 -} Ft Lo+ +-1 4
«,,T 4 1 ¢ 4

T 1400 | a4l _J_w. - ’J\FH' P e

= PRIMARY SALT AT . }__“ |
REACTOR OUTLET

o R AT
1300 P e T _ LD *}—L 7“;

j 4_, D» s PRIMARY SALT AT | | | ||
i REACTOR INLET

 

 

 

 

<

MW (e)
!

{

\

A

o\

e
\
\
\
\
3
h:U

—+m

]

. L

r
L P

 

 

 

 

 

 

 

 

 

 

 

 

 

 

 

 

—

 

 

 

 

 

 

 

 

 

 

 

 

 

 

 

 

 

 

 

 

 

 

 

 

 

 

 

 

 

 

 

 

 

 

 

T T T T
woﬂﬁ#ﬁﬁﬂi&EﬂWkﬂmmmm

Y400 1 1 4 11| L] l-]l.| L SECONDARY SALT AT [ | | |
: l | STEAM GENERATOR

 

iiiiiiii

 

 

 

 

 

 

 

 

TEMPERATURE (°F)
|
|
1

 

 

 

      

 

950 | >'W __+ ] VVSECONDARY SALT AT'V7_ mﬁjj a8
P STEAM GENERATOR
T TLT OUTLET

 

 

 

 

 

 

 

 

 

._;EhLLL_ _%ﬁ:__

T

 

 

 

 

 

 

o N
__L_; T

 

 

o0
o
o

|

i

T

 

 

 

 

 

 

 

 

 

 

 

 

 

 

 

 

 

 

 

 

 

 

 

 

 

 

 

 

 

 

 

 

 

 

 

 

4 _*m—‘ At e b 4 de -} L.t
L b
o= L .:m_:tﬁ |1 /Hf R
E 8 . e Tl Popodobop gl
3 = 1 SECONDARY SALT VELOCITY T T 717
;2 HHE R e
o ul g L ool
O J ‘ ! : ; C ;
e ! | ‘ L

60 80 10 120 140 160
TIME (sec)

Fig. 12. System Response to a Ramp Change in Load Demand from 30 to
1004, Load at a Rate of 40%of Full Load per min.
43

References

Robertson, R. C., etal., Conceptual Design of a Single-Fluid Molten Salt Breeder

 

Reactor, ORNL=-4541 (June 1971).
Sanathanan, C. K., and Sandberg, A. A., University of lllinois, Chicago, IlI.,

and Clark, F. H., Burke, O. W., and Stone, R. S., ORNL, Transient Analysis

 

and Design Evaluation of a Once~-Through Steam Generator with the Aid of a

 

Hybrid Computer.
MacPhee, J., The Kinetics of Circulating Fuel Reactors, Nucl. Sci. Eng. 4,
588-97 (1958).

Sides, W. H., Jr., Control Studies of a 1000-Mw{e) MSBR, ORNL-TM-2927

 

May 1970).

Sides, W. H., Jr., MSBR Control Studies: Analog Simulation Program, ORNL-

 

TM=3102 (May 1971).

Sides, W. H., Jr., MSR-70-56, August 21, 1970.
44

7. APPENDIX

7.1 A: Development of Computer Model

7.1.1 The All-Analog Model

 

The all-analog model represents the nuclear reactor, the primary heat exchanger,
and the interconnecting piping. The primary, or fuel, salt flows at a constant rate; and
the secondary, or coolant, salt flows at a variable rate. The heat transfer coefficient
between the primary heat exchanger tubes and the secondary salt was considered to be
proportional to the secondary salt mass flow rate raised to the .6 power. The piping time
lag for the primary salt between the reactor and the primary heat exchanger is 2.124 sec.
The same time lag was used for the return flow to the reactor.

The reactor kinetics model has two weighted groups of delayed neutrons.

7.1.1.1 Nuclear Kinetics Model

 

&P _ (-8

ar T P+7\]C + A.C

17 oo i

 

 

dC] B] C] e_x]T!
—a—r—z-}\——P"'?\.]C]""r'i' T C](f"'rl)r
c c
-AAT
E—B—Z-P-xc _Eg+e ZIC(’r-'T)
dt A 272 T T 2 l
45

Using the values listed in Tables 1 and 2 and Fig. 1, the above equations become:

 

P _ 0.00264 .
& ~ 50005 P " oooosz P+ 0-02446C, + 0.2245C, ;

& = 2777 x 10%P - 7.333 + 0.02446C, + 0.2245C, ;

ar
dc ~(.02446)(6.05)
1 0.00102 1 e .
ot T 0.00036 | " 0-02446C; - 3= €+ ————— C it - 7)) ;
dc

— = 2.8333P - 0.30456C, + 0.2416C,(t - T) ;

(0.2245)(6.05)

2 _0.00162 ] e oy
ot © 0.00038 ¢ 02450, g Gt ——m—— Gt - 1) ;
dC,

- = 4,5p - 0.50455c2 + 0.07204C2(i' - 'rl) .

Use P = 1000 MW(e) at steady state, design point and calculate the design point

values for C] and C2 . At steady state, design point:

dC
— = 0 = 2.8333(1000) - 0.30456C, (0) + 0.2416C,(0) ,

since, at steady state, C](O) = C](i' - 'rl) ) .

C](O) = 45,000 MW .
 

46
Likewise:
—= = 0 = 4.5(1000) - 0.50455c2(0) + o.o7204c2(0) ;

C,(0) = 10,404 MW .

Since we do not expect to use the model to go to power levels very much exceeding
1000 MW(e), we shall use the calculated values of C](O) and C2(0) as indicators for

purposes of magnitude scaling C] and C2 . Let

~ 5
I(max.) ~ 1 x 100 MW ,
C = 2% 10% MW
2(max.) !
and
P = 1250 MW .
(max.)

The corresponding machine variables are (]O_SC]), (5 x 10—3C2), and (.08P) respectively.

Write the magnitude scaled nuclear kinetics equations with the time scale equal to

real system time. Let C, = IO_SC] ' C25 = 5x 10-3

s C,, and P = .08P.

dP 3
5 = 2.777 x 103pPs - 7.333P_+ (.08)(0.02446)(103)C]S + (--———-———-—-——-—'08)('2_,?45)(10 e
dP

_S = 2.777 x 10%P - 7.333P + 1.957C, + 3.592C., ;

2 7
47

 

 

dC -3
1s _ (2.8333)(10 %) .

i - 08 ,PS 0.30456C]s + 0.2416 C]s(f - ’Tl) ;

ch]S

= 0.0354PS - 0.30456C]S + 0.24]6C]S(1‘ - ‘Tl) ;

 

dC -3
25 _ (4.5)(5 x 107) |
5 " 08 Ps - 0.5046C2s + 0.07204C25(’r - Tl) ;

 

0.2813P - 0.5046C,, + 0.07204C. (+ - 1) .
s 2s 2s I

Calculate I the reactivity required to offset the effect of the delayed neutrons

lost in the loop external to the core, for design point steady state operation.

ac.’.? =0 = 2.777 x lOspo(IOOO) ~ 7.333(1000) + 0.02446(45,000)

+ 0.2245(10, 404) ;

p = 0.001403 .
o

Temperature Coefficients of Reactivity

 

There are two reactor core zones with vastly different power densities. Zone 1
produces 79% of the total fission power while zone 2 produces 15% of the total fission power.
The remaining 6% of the fission power is produced in the annulus, plenums, efc. These
are very low power density regions that are not included in the simulation model; there-
fore, their contributions to the temperature coefficient of reactivity are relatively unim-

portant and they will be ignored in the simulation. The average femperature to be used in
48

determining the effective reactivity change due to core temperature changes shall be a
weighted average of the average temperatures of the various regions. As an approxima- -
tion, the weighting factor for a given region shall be proportional to the fraction of tofal
fission power produced in that region.

The equation for the fuel salt weighted average temperature, Tf avg. ’ is as

follows:
T., +1T,
_fl 2 = )
Tt avg. (——————2 )(.79) + @15 5

= (Tfls + szs)(.395) + Tf3s(']5) :

favg. s

The fuel salt weighted average temperature at design point, steady state, Tf avg(o) ,

is calculated as follows:

{Tfls(o) * TfZS(O

)
© = 5 J(zo)(.m + (T, 0120)(.15) ;

TF avg.

_ (55.49 + 62.11
N

) (20)(.79) + (58.8)(20)(.15) ;

T 0) = 929 + 176.4 = 1105.4°F .
f avg.

The equation for calculating the reactivity change as a result of fuel salt femperature

changes is as follows:

= [T (O)]Q’f ’

Pt favg. Tfavg.
49
where o = the temperature coefficient of reactivity for the fuel salt, (3K/K)/°F .

— -— — -5 .
op = (T, ova. 1105.4)(-1.789 x 10 °) ;

—_ - - -5 .
F (Tfavg. S 55.27)(-1.789 x 10 “)(20) ;
oo = (T - 55.27)(-3.578 x 1074
f favg. s | | ’
For the graphite:
Tgl + ng
Tg C!Vg.(o) = "-—-f————— (79) + T93(15) ;
Tg avg. S(0) = (Tgls + Tng)('395) + 0. 15T935 ;
0) = (56.28 + 62.9)(.395) + 0.15(59.19) ;
g avg. s
T (0) = 47.08 + 8.88 = 55.96 .
g avg.
pg - |:Tg avg. - Tg avg.(o)]ag i
pg - l:Tg avg. s Tg avg. s(o)]ag i

- 55.96)(1.305555 x 10"°)(20) ;

o
i

(T
g g avg. s

. _ -4
0y = (T g, s = 559602611 x 107) .
50
The scaled equations are:

[]O4pf] -1 _ 55.27)(-3.578) ;
g. s

fav

1
—
-

r10% 1 - 55.96)(2.611) .
g g avg. s

The chosen time scaling was such that 20 sec of computer time was equivalent to

1 sec of system time.

The resulting machine equations are the following:

dP 3 3
s _ 2.777 x 10 P+ 2.777 x 10 oP 7.333 P4 1.957 c. o+ 3.592

= - T Pors 70 <" st C1s T ©

2s !

where 7 = 20t .

dP

—3 = 138.85 P + 138.850P - 0.3667P + 0.0979C, + 0.1796C,, .
dr o s 5 5 1s 2s

Likewise:

dC]S

dr

 

= 0.00177P - 0.0152C. + 0.01208C. (t+ - T,) ;
S ]S ]S |

dC25

dv

 

= 0.014065P - 0.02523C, + 0.0036C., (t - T,) .
s 2s 2s |
51

7.1.1.2 The Reactor Core Heat Transfer Model

7.1.1.2.1 Graphite Heat Transfer Equations

dT
gl _ =
Mg]cpg = hngg](TH Tg]) + KglP ,

where P is in Btu/sec.

1 MW(t) = 948.6667 Btu/sec .

Since the plant efficiency is such that 2250 MW(t) results in 1000 MW (e),

1 MW(e) = 2.25 MW(t) = 2.25(948.6667) Btu/sec = 2134.5 Btu/sec .

In the above equation, if we express P in terms of MW(e), we have:

Tt _Mlgl e o, 2145,
dt ~M.C_ V1T gV TM € "ol f
gl pg gl "pg
K = 0.032933 ;

gl

To1 _ (0.29589(15,089) & _, , (2134.5)(0.032933) ,
3t~ = (106, 106.5)(0.42) “'f1 (108, 106.5)0.42) © *

dT
dt

1“9.

= 0.09983(T., - T ,) + 0.001577P .
f1 gl

Let Ps = 0.08P and Tis = Ti/ZO .

ols _ _ 001577 .
= 09983y - T )+ Goytony B

 

©Q
o
I

0.09983('THS - Tg]s) + 0.000986PS :
52

Let computer time, 7, equal 20t .

 

dT
gls _ 0.09983 i 0.000986 ,
dr =~ 20 (Tf]s Tg]s) ¥ 20 Ps !

dT

—92° = 0.00499(T.. ~ T .) + 0.0000493P .
dt fls ~ gls s

In a like manner:

 

 

dT
g2s _ T P .
Ir 0'00499(Tf25 ngs) + 0'0000493‘5 ;
dTg3s _
3 = 0.0086](TF3S - TgSs) + 0.0()004'155|:’s .

7.1.1.2.2 Fuel Salt Equations Describing the Generation and Transfer of Heat in the
Reactor Core

 

Core Zone 1.--

a7, ~
MerCor g = Fi%etThn ~ i

——

theAny = Ty) + KgP

f

where

P is expressed in Btu/sec (thermal),

Mf] = 1/4 fuel mass in core zone 1 = 58,074/4 b = 14,518.5 Ib,

F] = fuel salt mass flow rate in core zone 1 = 58,074 1b/2.71 sec = 21,430 Ib/sec,
Ac; = 1/4of core zone 1 heat transfer area = 30,077/4 H2 = 7519.25 fi2,

K., = 0.1781.

fl
53

dTer 21430

_ (0.29583)(7519. 25) (.1781)(2134.5) p
dt 14518.5

(T 04,518.500.328) U1 ~ ) " 4518 50,328

 

 

 

- T+

fin

where P is expressed in MW(e).

The unscaled equation is:
—_— = ].476(Tﬁn - TF]) + 0.4729(1'91 - Tf]) + 0.080815P .

Allowing temperature maximums of 2000°F and a power maximum of 1250 MW(e),

we have magnitude scaled variables of Ti/20 and .08P . Let Tis = Ti/20 and PS = .08P.

dT
s - =, -080815
g = A0 Ty 0472901 40 - T ) + ooyiog) s

 

The magnitude scaled equation is:

dTﬂs
t

 

= ]'476(Tfin:s - Tﬂs) + 0.4729(T - Tﬂs) + 0.0505Ps .

gls

Let machine time = twenty fimes real system time;

T = 20t .
54

dT
fls  1.476 =
dr 20 (Tfins - Tﬂs) *

0.4729

0505
20 °

(T -T..) + L

gls ~ 'fls

 

 

The time and magnitude scaled equation is:

—_—— = 0'0738(Tfins = Tﬂs) + 0'0236(Tgls - Tfls) + 0.002525Ps .

The equations for the other three fuel salt lumps in core zone 1 are developed in

a like manner and the resulting equations are as follows:

 

 

 

 

 

 

dT

fOls _ = _ _ T A
T = 1.476(THS TFOls) + 0'4729(Tgls Tf]s) + 0.0564PS ;
ITeo1s - * -

I = 0'0738(Tﬂs - TfOls) + 0.0236(Tg]S - Tﬂs) + 0.00282PS ;
dTFZs = =

5 = ]'476(TF015 - Tf25) + 0.4729(T925 - Tf25) + 0.0564PS ;
deZs = =

= = 0'0738(Tf015 - TFZS) + 0.0236(T925 - TFZs) + 0.00282Ps ;
deOZs = =

5 = ]'476(TF25 - Tf025) + 0.472‘5?(Tgzs - TFZS) + 0.014863PS ;
dTFOZs = =

I = 0'0738(Tf25 - TFOZs) + 0.0236(T925 - TF25) + 0.()02432PS .
55

Core Zone 2, -~

MisCor ar = FaCThin ~ Tid) * PegPis(Tys = Teg) * KpaP o

where P is expressed in Btu/sec (thermal),

 

Mf3 = 1/2 fuel mass in core zone 2 = 1/2 x 61,428 |b = 30,714 Ib,
F3 = fuel salt mass flow rate in core zone 2 = 61,428 Ib/12.5 sec = 4914.24 Ib/sec,
AFB = 1/2 heat transfer area in core zone 2 = 1/2 x 14206 th = 7103 f’r2,
K\c3 = 0.0863.
T3 4914.24 T T (0.29583)(7103) Ty =Ty 0.0863)(2134.5) ,,
dt 30,714 'fin (30, 714) (. 324) (30774)(. 324) !
dT. B 3
5 - 0.1600(Tﬁn ~ TFS) + 0.2112(T93 - TFS) + 0.01851P .

For the reason previously stated, use the magnitude scaled variables:

T. = T./20 and P = .08P .
is i s

 

 

f3s = =, 0.01851 .
3 0.1600(Tﬁns TF3S) +o.2112(T93$ T * 20108 B P ;
dfst =
5 - 0.1600(TFins - Tf3s) + 0.2112(Tng - T ) +0.01157P_ ;

T = 20t .
 

 

JT
£3s _ 0.1600 _ . 0.2112 ~ .. 0.01157 _
= "0 Teins " Tead VT gz " i) T Fs

deBs - -

T = 0.0080(T,, - Tp) +0.01056(T 5 = Tpp) +0.000579, .

The equations for the second half of fuel lump number 3 were developed in a like

manner. The resulting equations were as follows:

 

 

dTFO3s = =

o = o.usoo(ffas - TFOBs) + 0.21]2(Tg3s - Tfss) + 0.01]36Ps :
dTeh3s _

T = o.ooso(fﬂ,,S - TfOSs) + 0.01056(T935 - TF3S) + 0.000568PS i

The temperature of the salt at the reactor core outlet can be calculated by weighting

the outlet temperatures of the salt in zones 1 and 2 proportional to their respective mass

 

flow rates.
WF] = weighting factor in zone |
B 21,430 Ib/sec 21,430 _ 0.8135
~ 21,430 Ib/sec + 4914 Ib/sec ~ 26,344 = ‘
4914 lb/sec
WFy) = %5348 Tb/sec - 01867 -
Let TROs = TR0/20 = magnitude scaled temperature of the fuel salt at the reactor

core outlet.
57

TRO = 0’8]35Tf02 + 0.1865T]c03 ;
TRDs = O.8]35TFOZS + 0.1865Tfoss .

7.1.1.3 Piping Lag Equations

 

The primary salt residence time in the piping between the reactor core and the
primary heat exchanger inlet is 2. 125 sec. The piping lag will be approximated

by a first order lag, indicating perfect mixing. The first order lag equation is as

 

follows:
dein ]
& - 7715 Tro " Tain)
The magnitude and time scaled equation is:
deins
— = 0.0235(TROS - Txins)

The residence time in the piping carrying the primary salt from the primary heat
exchanger to the reactor was considered to be the same as that in the opposite direction;

namely, 2.125sec. The resulting first order lag equation is:

fins

I - 0.0235(T

f10s Tfins) .

 
58

7.1.1.4 Primary Heat Exchanger Model

7.1.1.4.1 Primary Salt Equations

 

f7 .
Mf7cpf dt Fxcpf(Txin Tf7) ¥ hFpAFx(TH - Tf7) !
_ N _ _ 11870 Ib .
M‘(7 = MF8 = Mf9 = MF]O = 7 = 2967.51b ;

F = 11,070 Ib = 6594 lb/sec ;

X 1.8 sec
A, = 100 62 o000 562
fx 4

The resistance to heat flow from the tubes into the primary salt was considered

to be the film resistance plus 1/2 the tube wall resistance.

2
1 : — 1 2_0 - hl“"ﬂ' "'OF
Film resistance = 3500 Bfu/hr=-ft" =°F = 0'0002857T .
] 2 hr-f’r2-°F
Tube wall resistance = 3963 Btu/hr=ft =°F = 0'0002523T

0.0002523

5 = 0.0001262 .

1/2 wall resistance

Total resistance, RTI = 0.0004119 .
59

1 1 _ 2_0
hfp = —R-;]x %00 0.67438 btu/sec~ft" =°F .

e 6594

i 2070 (7 (0.67438)(2762. 5)
dt  ~ 2967.5 ‘'xin

1) * “ooe7 3)( 328)

) .

 

(Tf] - Ty

Use scaled variables TF/ZO .

let T. = T./20.
is i

 

2.222(Txins - Tf7s) + 1.938(THS - Tf7s) .

The machine timed equation is:

 

dT
75  2.222 ] 1.938 ] .
T = 50 Tins ~ Te7e T o0 Ty ™ T i

aT,

- oama, -1 )+ 0969, - T)

The following equations are developed using the same approach:

1

2.222(Tf7 - TFS) + 1.938(TH - Tf7) ;

= 2°222(TF75 - TF85) + 1.938(THS -~ Tf75) ;
60

 

 

 

 

 

) .

 

dTF8s

= = O‘””(Tﬁs - Tf85) + 0'0%9(Tﬂs - Tf7s) ;
—— = 2.222(Tg - To) + 1.938(T, - Teo)
de9s
dTto,

g = 0-V(Tg = T ) +0.0969(T, = Teg) 5
Ter0
dTHOS

dt = 2.222(1.{:95 = Tf]OS) + ]-938(1-1_25 - TF9S) ’
aTe10s

g = 01T = Teyg) +0.0969( = T,

7.1.1.4.2 Tube Wall Heat Transfer

 

dT

M.C. —1

T°T ot hprT(TW " Ty) mhp ATy - T

t1

16,0206
My = =5 = 8,010 b .
61

CT = 0.129 Btu/Ib-°F.

hfp = 0.67438 (previous calculation).
11,050 £ 2

AT = -—'—2—-—-———- = 5525 ft .

The resistance to heat flow from the tube walls to the secondary salt is comprised of
the film resistance and one half the tube wall resistance.

Since the secondary salt flow rate is variable, h_  will be variable also. In this

Te

model, h.. is proportional to the secondary salt mass flow rate raised to the .6 power.

Te

For design point, steady state conditions,

] ] ]

 

 

 

 

hie = hre0 = 3 . ~ 70004695 + .0001262 0005957
2130 = 3963 x 2
2 4
= 1678.7 Btu/hr-ft“ -°F
2 ,
= 0.4663 Btu/sec-ft -°F .
th '
The variable used in the equations shall be 0.8 ; .
Te,O
Iy (.67438)(5525)

 

h
oy (.4663)(5525) Te .
= = ®oo® Ve T T T 0012909 'ShTC ; T - T3

dT h

1 Tc
62

 

 

 

 

 

 

 

 

 

 

dT h
. HS _ - - __;r_g__ _ .
< = 3.606(T = T,) - 3.1166 |.8 ¢ :‘(THS T o)
Tc, 0
dTHs th
T = 0.1803(T{:75 - T’r]s) - 0.1558 ;'Bh (THS - Tc35) .
Te,0
Similarly
dT h
2 _ _ Tc _ )
— = 3.:.‘>06(T1c9 th) 3.1166 [.8 r }(sz Tc]) ;
Te, 0
dT h |
t2s Te _ )
T = 3'606(Tf9s - Tf25) 3.1166 [.Bh ](szs Tcls) ;
Tc, 0
dT h
t2s _ _ Tc _
= = 0.1803(Tf9s Ti-2s) 0.1558 .8h (Tt25 Tcls) .
Te, 0
7.1.1.4.3 Secondary Salt Equations
ch]
clcpc & I:c:cpc(Tcin - Tcl) ¥ thAc(sz - Tcl) i
cl 4 |

Since the secondary salt flow rate is a variable, Fc and th will be variables.

For steady state, design point conditions,
and

dT
cl
dt

 

dT
cl
dt

 

 

dT
cls
dt

 

 

63

 

 

 

 

= 1.78 x 107 Ib/hr = 4944 Ib/sec ,

Fc = F , 0
th = th 0= 0.4663 Btu/sec—ff2—°F .
2
A= HOO0R oo 5042
c 4
Fc | th
The variables {.8 . and [.8 A shall be used in the model.
¢, 0 Tc,0
_ Fc,,OCpc 8 Fc (T ST )+ th,OAc 8 th T =T ) ;
M .C (.8) I'"F cin cl M .C (8 1'°h 2 cl” !
cl “pc c,0 cl pe Te, 0
_owomw T b asey@rezs) | e
(8607)(.8) |' " F 0 cin cl (8607)(.360)(. 8} | th 0 2 cl” /
Fc th
= 0.7180 SF:-B- (TCin - Tcl) + 0.5197 .8hTC - (Ti'2 - Tcl) ;
Fc th
= 0.71801{.8 P (Tcins - Tc]s) + 0.5197 .sth - (szs - TC]S) ;
 

 

ch2s
dt

 

chZs

drt

 

dT

c3s

df

 

ch3s

dr

 

 

i\

i

i1

i

0.7180 }.

0.7180

-8

0.0359 {18

0.7180

0.7180

0.0359

0.7180}.

o
;
%
[

.8

8

.8

8

 

 

 

 

 

 

 

 

 

 

 

 

 

 

 

 

Fc th |
F J(Tcms - Tc]s) +0.0253).8 h J(TTZS - Tcls)
c,O Te, 0
th ]
|= (T, +0.5197 .8 (T, =T )i
c,0 Te,
+ 0.5197].8 - T, - ) ;
Fc,O th 0 i2s cls
F th
(T )+002538 T, -T..);
Fc,O th,O t2s cls
hT
: (T -T)+05i97 81 (T]-T3);
c,0 Te,0) ©
F th
(T )+05197 T, -T.,);
Fc,0 th,O tls c3s
(T )+002538 T. -T.,);
Fc,O th,O tls c3s
F heo
-T)+051978 (T ) ;
F h c3
Te, O

<,

o
ch4s

dt

 

ch4s

dr

 

N

il

0.7180{.
0.0359{.

Fc
8 ——
c,0

F
g S
c, 0

65

}(Tc?)s - Tc4s) + 0.5197{.8

}(Tt35 ~ TC4S) + 0.0253{.8

 

 
66
7.2 B: Fortran Source Program for MSBR Steam Generator Simulation™

7.2.1 Program

C MSBR STEAM GENERAT@GR SIMULATION
DIMENSION THETA(100),V(100),T(100),P(100),WMUG(100),CW(100),PR(100)

¢ 1,4(100),D(100),RE(100),DK(100),THETAK( 100),VK{100),C(100),HK(100)
DIMENSION IX(100)
DIMENSI@N PL(100),HL(100),VL{100),THETAL(100)
COMMUN IR, IW
IR=2
IW=5
READ (IR,3000) N
3000 FORMAT(I5)
CALL MSBR(N,THETA,V,T,P,WMU,CW,PR,H,D,RE,DK,THETAK,VK,C,HK, IX,PL,H8

IL, VL, THETAL )

CALL EXIT
END
SUBR@UTINE MSBR(N,THETA,V,T,P,WMU,CW,PR,H,D,RE,DK, TEETAK,VK,C,HK, 1

0 1X,PL,HL, VL, THETAL )

COMMPN IR, IW
DIMENSIPN IAR(2),IDVE7),IDVI(4)
DIMENSI@N THETA(N),V(N),T(N),P(N),WMU(N),CW(N),PR(N),H(N),D(N),RE(

IN),DK(N),THETAK(N) ,VK(N),C(N),HK(N)
DIMENSIPN IX(N)
DIMENSI@N PL(N),HL(N),VL(N),THETAL(N)
DIMENSION TABH(30,6),TABD(120,6),TABT({20,6)
DIMENSIGN TABMU(!8,2),TABK(18,2),TABPR(18,2)
DIMENSI@N ILB(3),IDH(3),IVTHET(2),IDHl(2)
DIMENSI@N IPUTA(4),IQUTV(4)
CALL INITA(IE,O)
CALL INMUX(IE,O)
CALL RUN(IE;
READ(IR,300) IT
C M IS THE N@. OF ITERATIPNS PER TIME STEP.

READ(IR,300) M

300 FPRMAT(I5)
CALL TSCAL{IE,IT)
READ( IR, 105) DX,DT,PK,PKF

105 FORMAT(2F6.2,2F10,5)
READ(IR, 106) HSF,SFH

106 FORMAT(2F6.2)
READ(IR, 107) IMDAC,IADH

107 FPRMAT(216)
READ (IR, 103) HKI,HKZ2,HK3,C@N!,RKl,THETLB,VLB

103 FORMAT(7F10.2)
READ( IR, 110) CFC@N, SFV,RK2,SFVS

110 FORMAT(3F10,2,F10.7)
READ (IR, 120) IADV

120 FORMAT(I16)
READ (IR, 122) IRDAC,IMDACI

122 PORMAT(218B)

C READ IN TABLE VALUES,

*See Sect. 7.2.2 for definition of variables.
67

READ[IR.lOA} TABD
READ(IR, IOl) TABT
101 FORMAT(1OF8,2)
READ(IR, 10O) TABH
100 FPRMAT(1OF8.2)
READ(IR, 104) TABMU
READ(IR, 104) TABK
READ(IR, 104) TABPR
104 FORMAT(10F8,2)
C READ IN TABL& LIMITS,
READ (IR,102) TMINH,TMAXH,DELTH,NTH,PMINH,PMAXH,DELPH,NPH
READ (IR, 102) HMIND,HMAXD,DELKD,NHD,PMIND,PMAXD,DELPD,NPD
READ (IR,102) TMINM,TMAXM,DELTM,NTM,PMINM,PMAXM,DELPM,NPM
READ (IR, 102) TMINK,TMAXK,DELTK,NTK,PMINK,PMAXK,DELPK,NPK
READ (IR,102) TMINP,TMAXP,DELTP,NTP,PMINP,PMAXP,DELPP,NPP
READ (IR, 102) HMINT,HMAXT,DELTT,NTT,PMINT,PMAXT,DELPT,NPT
102 FORMAT(3F8.2,16,3F8,2,15)
C READ INITIAL GUESSES F@PR VALUES @F VARIABLES,
READ(IR,108) H
108 FORMAT(1OF8,.1)
READ(IR, 108) P
READ(IR, 108) THETA
READ(IR, l0O8) V
C SET UP ADDRESSES F@R @UTPUTTING VALUES @F VARIABLES
C FROM THE ANAL@G C@MPUTER.
READ(IR, 109) IPUTA
109 FGRMAT(416)
C INITIALIZE CPEFF. DEVICE SETTING RAUTINES.
CALL ADDR( IADH, IADHD)
CALL ADDR(IADV,IADVD)
CALL PREBI|(IADHD,IDH,3)
CALL PREB2(IADHD,JIDHI,2)
CALL PREB3(IADVD,IDV,7)
CALL PREB4{IADVD,IDV},4)
C PUT ANALPG COMPUTER LEFT T@ RIGHT INTEGRAT@RS IN IC MODE.
CALL SETWD(0,0)
ALF=.5
c KT IS THE TIME STEP C@UNT VARIABLE.
KT=0
C START TIME STEP TIMER AT NEXT P SIGNAL PIP,
2003 CALL SETWD(0,48)
KT=KT+1
c READ VALUES @F PLB,TLB,AND VS FROM ANAL@G AMPLIFIERS,
CALL ADDR(6220,IABIl)
CALL SCANH(IABI,ILB,3)
C HAS TIME STEP TIMER CAUNTER STARTED COUNTING?
3005 IF(ITEST(I1E,O,13)) 3005, 3005, 3006
3006 PLB=ILB(l)
TLB=ILB(2)%l.E~1]
VS=ILB(3)*1.E~-4
c READ THE THROTTLE SETTING AND THE SALT TEMP. AT THE RIGHT B@UNDARY

CALL ADDR(6262,IAB3)
CALL SCANH(IAB3, IAR,2)
C CHECK TLB AND PLB AGAINST THE RANGE OF TABH.
IF ( PLB.GE, PMINH , AND, PLB,LE, PMAXH , AND . TLB .GE, TMINH . ANV . TLB . LE, TMAXH

1) Go TP 1l
WRITE(IW, 10)
10 FPORMAT(IX, "EITHER PLB @R TLB, YR BATH, IS @QUT OF RANGE @F TABH, )

ST@P THE PRUGRAM
Ge T 99
c GET VALUE @F H AT LEFT BOUNDARY, HLB, FRUM H(P,T), TABH.,
i1 CALL TERP2(TABH,TLB,PLB,HLB,TMINH,TMAXH,DELTH,NTH, PMINH , PMAXH , DELP
C

C

C

68

ld,NPH)
HLBS=(HLB~1100)#*25,
XY=HLBS-,5
IDH(3)=IFIX(XY)
HO=HK2#VS*#*0, 60
GET DENSITY AT LEFT BOUNDARY, DLB, FROM D(P,H) TABL:, TABD,
IF(PLB,GE.PMIND,.AND.PLB.LE.PMAXD,.AND ,HLB ,GE,HMIND . AND .HLB . LE . HMAXD

1) Go To 21
WRITE(IW,20) .
20 FURMAT(1X, ‘EITHER PLB @R HLB, @R B@TH, IS @UT OF RANGE @F TABL.')

GO TO 99
21 CALL TERP2(TABD,HLB,PLB,DLB,HMIND,HMAXD,DELHD ,N4D, PMINU, PMAXD,DELP

\D,NPD)

CHECK RANGE: @F VISC@SITY TABLE, TABMU, AND GET VISCASITY VALUE AT
LEFT BPUNDARY, WMULB,

IF(PLB.GE.PMINM,AND ,PLB.LE.PMAXM.AND,TLB ,GE,TMINM, ANV ,TLB .LE, TMAXM

1) Gé TP 31
WRITE(Iw, 30)
30 FPRMAT(1X, ‘EITHER PLB @R TLB, @R B@TH, IS ¢UT UF RANGE @F TABMU.')

GY TP 99
31 CALL TERP2(TABMU,TLB,PLB,WMULB,TMINM,TMAXM,DELTM,NTM, PMINM, PMAXM,D

1 ELPM, NPM)
IF (PLB,.GE.PMINK,AND, PLB.LE, PMAXK, AND . TLB . GE. TMINK . AND , TLB .LE, TMAXK

1) Go Tp 51
WRITE(IW,40) '
40 FURMAT(|X, ‘EITHER PLB SR TLB, @R BOTH, IS OUT @F RANGE @F TABK.’)

GO TP 99
51 CALL TERP3(TABKk,TABPR,TLB,PLB,CWLB,PRLB, TMINK,TMAXK,DELTK,NTK,PMIN

1K, PMAXK, DELPK, NPK)
SAVE VALULS @F P,H,V,AND THETA FOR NEXT TIME STEP CALCULATI@N.
DY 331 IK=1,N
PL(IK)=p(IK}
331 HL(IK)=H(IK)
D@ 40! LL=1,N
VL(LL)sv(LLS

401 THETAL(LL )=THETA(LL)

KI IS ITBERATIYN CPUNT VARIABLE.
KI=0
START ITERATI@N

1000 KI=KIi+l|

IF(KT~1) 66,66,67
66 IF(KI~l) 67,65,67
65 VLB=20,25

C CALCULATE THE REYNPLDS N@. AT THE LEFT BAUNDARY,RELB,
67 RELB=CYN |*DLB#*VLB/WMULB

C CALCULATE THE INSIDE FILM HEAT TRANSFER C@EFFICIENT .-AT THE LEFT B#@
UNDARY,
C HILB

HILB=HK|*CWLB*RELB#*%0, 923¥PRLB¥**0,613
C CALCULATE THE @VERALL HEAT TRANSFER COUEFFICINYT AT THE LEFT BOUNDLAR
Y, HTCLB.

HTCLB=HILB*H@*HK3/(HILB*H@+HILB*HK3+HP¥HK3)
c CALCULATE THE CPMPONENTS OF THE DERIVATIVE ¢F ENTHALPY AT THE LEF
T BOUNDA
C RY, DHILB AND DH2LB,

IF(KT-1) 77,75,77
75 PHLB=HLB
69

77 DHILB=25,%*(RKI¥HTCLB/DLB*(THETLB-TLB )+{PHLB-1100, )/DT)/VLB

IF(KI-M) 150,151,151

151 PHLB=iLB

150 DHILBS=DHILB
XY=DHILBS+.5
IDH(1)=IFIX(XY)
DH2LB=-|,.0/(VLB*DT)
DH2LBS=DH2LB*| . E4
XY=DH2LBS-,5
IDH(2)=IFIX(XY)

c SET H DERIVATIVE DACS WITH AN UPDATE CODE @F ZERU.
CALL DACU(IE, IMDAC,0)
CALL DACU(IE,IADH,O)
CALL SETBBI
c PUT THE LEFT T@ RIGHT INTEGRAT@RS IN THE P M@BDE ANL START
C THE BCD C@UNTER,
CALL SETWD(O,34)
Do 15 I=1,N
C CALCULATE P F@R PRESENT SPACE INCREMENT AND H DERIVATIVE F@R NEXT
SPACE
C INCREMENT WHILE ANAL@G IS INTEGRATING QVER THE PRESENT SPACE INCRE
MENT,

IF(P(I).GE,PMIND,AND,P(I).LE.PMAXD ,AND.HK(1).GE . HMIND.AND . H(I).LE.H

IMAXD) GB T#@ 61
WRITE(IW,60) I,KT,KI
60 FORMAT(IX, 'EITHER P(I) @R H(I), R B#TH, IS WUT OF RANGE @F TABD F

18R I=",I4, 'KT=’,Il0, 'KI=",61I4)
WRITE(IW,8000) P(I),H(I)

8000 FURMAT( X, "P(1)=",F8.2,° H(I)=",F8.2)

GO TY 99
61 CALL TERP3(TABD,*tABT,H(I),P(I),D(I),T(I),HMINU,HMAXD,DELHD,NHD,PMI

IND, PMAXD, DELPD,NPD)
IF(P(I),GE,PMINM,AND,P(1).LE.PMAXM.AND.T(1).GE,TMINM.,AND ,T(X).LE,.T

IMAXM) G@ T@ 71
WRITE(IW,70) I,KT,KI
70 FORMAT(1X, ‘EITHER P(I) 8R T(I), @R B@TH, IS QUT ¢F RANGE @F TABMU
IFBR I=",14, 'KT=’,110, KI=",61I4)
GO TP 99
71 CALL TERP2(TABMU,T(I),P(I),WMU(I),TMINM,TMAXM,DELTM,NTM,PxINM,PMAX

IM,DELPM,NPM)
RE(I)=CONLI*D(I)*V(I)/wWMU(I)
IF(P(1).GE.PMINK,AND,P(I1).LE.PMAXK,AND,T(I).GE.TMINK,ANLV.T(I).LE,.T

IMAXK) GO T@ 91
WRITE(IW,80) I,KT,KI
80 FURMAT(1xXx, ‘EITHER P(I) @R T(I), @R BUTH, IS @UT @F RANGE @F TABK F

18R I=’,I4,°KT=’,110,°KI=’,1I4)
GO T® 99
91 CALL TERP3(TABK,TABPR,T(I),P(I),CW(I),PR(I),TMINK,TMAXK,DELTK,N1K,

1 PMINK , PMAXK, DELPK, NPK)
HI=HK|®CW(I)®RE(I)**,923%pPR(I)**,6]3
HTC=HI*HP*HK3/ (HI¥*HP+HI*HK3+HP*HK3)
IF(KT-1) 93,92,93
92 HK(I)=H(I)
93 CONTINUE
DH1=25,*(RKI*ATC/D(I)*(THETA(I)-T(I))+(dK(I)-1100,)/DT)/V (1)
DH 1 S=Dh |
XY=DH|S+.5
IDHi(1)=IFIX(XY)
70

DH2==1,0/(V(I)*DT)
DiE2S=DiH2%*], k4
XY=DH2S-,5
IDH{(2)=IFIX(XY)
CALCULATE P(I)
IF(I-1) 53,52,53

52 IF(KT-1) 72,54,72
54 VKLB=VLB

7

5
78
73

12

13

1201
32
33

15

333

200

201

2 P(1)=-DLB*VLB*DX/PK*((V(1)-VLB)/DX+(VLB=VKLB )/DT+PKF*VL3 )+PLB

Go T¢ 12

3 IF(KT-1) 73,78,73

VK(I-{)=v(I-1)
P(I)=—D(I-1)%*V(I-1)*DX/PK*((V(I)=V(I-1))/DX+(V{I~1)-VK(I-1))/DT+PK

LF*V(I-1))+P(I-1)

CHECK ANAL®G C@MPUTER F@R HOLD MODE.
IF(ITEST(IE,0,15)) 12,12,13

CUNT INUE

RESET CLEAR BIT ,BITIS.

CALL SETWD(O, 34)

READ ENTHALPY AT I°TH X STATION.

CALL ADDR(6223,IAB2)

CALI, SCANH(IAB2,IH,1l)

H(I)=1100,+IH*4, k-2

IF&KI-M) 33,32,32

HK(I)=H(I)

CONTINUE

SET CAEFFICIENT DEVICES F@R NEXT SPACE INCREMENT,.

CALL SETBB2

PUT THE LEPT T® RIGHT INTEGRAT¢RS 1N THE PP MODE,

CALL SETWD(O, 35)

CONTINUE

G¢ TP ANALPG IC MPDE @N THE LEFT T® RIGHT INTEGRATQRS,
CALL SETWD(O, 32)

GET WEIGHTED VALUES FOR H AND P,

D@ 333 IK=I,N

STPR=P( IK)

P(IK)=ALF*P(IK)+(1l.~ALF)*PL(IK)

PL(IK)=STgR

STOR=H( IK)

H(IK)=ALF*H(IK)+(1.~ALF)*HL (IK)

HL{IK)=STgR

D@ RIGHT T@ LEFT INTEGRATION USING CALCULATED VALUES @F H ANUL P.
GET VALUE @F DENSITY AT RIGHT HAND END @F STEAM GENERAT@R,
IF(P(N).GE,PMIND,AND,P(N).LE.PMAXD ,AND .H(N) .GE ,HMIND ,AND ,H(N) .LE .H

IMAXD) GU T@ 201
WRITE(IW,200) N,N
FORMAT(1X, EITHER P(’,I2,°) @R H(’,1I2,°), ¥R BU6TH, ARE QUT @F RANG

lE @F TABD.')
G¥ TE 99
CALL TERP3(TABD,TABT,H(N),P(N),D(N),T(N),HMIND,HMAXD,DELHD,NHD,PMI

LND,PMAXD, DELPD,NPD)

CALCULATE THE STEAM VEL@CITY AT THE THRPTTLE.

AT=IAR(l)%*],E-4

VI=CFC@N*P(N)/D(N)*aT

SVT=VT#* |, E2#SFV

XY=SVT+,5

IDVS5)=1FIx(x¥)

V(N)=VT

CALCULATE THE DERIVATIVES ¢F WATER VELBCITY AND SALT TEMP. AT
RIGHT B@UNDARY,

IF(P(N-1).GE, PMIND,AND,P(N=~1).LE.PMAXD .AND.H(N-1).GE.HMINL ,ANL ,H(N
71

l-l).LE.HMAXD; GO TP 211
WRITE(IW,210
210 FORMAT(IX, EITHER P(N-l) @R H(N-1),8R BBTH, IS @UT BF RANGE @F TA

IBD.’)
G T@ 99
211 CALL TERP2(TAED,H(N-{),P(N-1),D(N-1),HMIND,HMAXD,DELHD,NMD,PMIND,P

1 MAXD, DELPD, NPD )
DV2RB=(D(N=-1)-D(N))/(D(N)*DX)*] ,E4
IF(DV2RB) 2527,2526,2526

2526 XY=DV2RB+,.5

Go To 2528

2527 XY=DV2RB=-.5
2528 IDV(2)=IFIX(XY)

IF(KT-1) 202,202,203

202 DK(N)=D(N)

203 DV |IRB=SFV¥*(D(N)~DK(N))/(D(N)*DT)*| . E4
IF(DVIRB) 2529,2530,2530

2530 XY=DVIRB+.5

Go TP 2531

2529 XY=DVIRB-,5
2531 IDV(1)=IFIX(XY)

IF(KI-M) 205,204,204
204 DK(N)=D(N)
205 CBNTINUE
IDV(7)=(IAR(2)*1.E~-1-1050. )*.5E2
THETA(N)=IAR(2)¥1.E-i
IF(T(N).GE,TMINM,AND,T(N).LE,TMAXM,AND .,P(N) .GE.PMINM.AND .P(N)} .LE,.P

IMAXM) G@ T@ 221
WRITE(IW,220)}
220 FPRMAT(1X’EITHER T(N) @R P(N), @R B@TH, IS QUT @F RANGE @F TABMU,

1°)
G® TO 99
22| CALL TERP2(TABMU,T(N),P(N),WMURB,TMINM,TMAXM,DELTM,NTM, PMINM, PMAXM

1 ,DELPM, NPM)
IF(P(N).GE,PMINK.AND.P{(N).LE.PMAXK.AND.T{(N),GE,TMINK.AND ., T(N).LE.T

IMAXK) G@ TP 231
WRITE(1IW,230)
230 FORMAT(1X, EITHER P(N) @R T(N), PR B@TH, IS QUL @F RANGE @F TABn‘)

GO T 99
231 CALL TERP3(TABK,TABPR,T(N),P(N),CWRB,PRRB,TMINK,TMAXK,DELTK,NTK,PM

1 INK, PMAXK,DELPK,NPK)
RERB=C@N | *D (N ) #VT/WMURB
HIRB=EK|*CWRB¥*RERB¥* é923%PRREB¥**,613
HTCRB=HIRB*HP*HK3/ (HIRB*HP+HIRB*HK3+HO*HK3)
Z=(HTCRB*RK2+1/DT)}/VS
IF(KT-1) 232,232,233

232 THETK!=IAR(2)%*!,E-|

233 DTIRB=(HTCRB*RK2*T(N)+THETK!1/DT )*50./VS-2%*,525E5
IF(KI-M) 235,234,234

234 THETK1=IAR(Z2)%1.,E=1

235 DT IRBS=DTIRB*SFVS
IF(DTIRBS) 2532,2533,2533

2533 XY=DT1RBS+,5

Ge T 2534

2532 XY=DTIRBS~.5

2534 DT2RB=Z%*|,.E4

DTZRBS=DT2RB*SFVS
Y&=DT2RBS+,5
72

IDV(3 =IFIX(XY}
IDV(4 )=IFIX( Y2

IDV(6 )=1000

CALL DACU{IE,IRDAC,O)

CALL DACU(IE,IMDACI,0)
C SET IC AND DERIVATIVE DACS F@R SALT TEMP, AND WATER VEL@CITY,
CALL SETBB3
C PUT THE RIGHT T@ LEFT INTEGRAT@RS IN THE 9P MPDE AND START BCD CoU
NTER.
CALL SETWD(0,40)
o CALCULATE DERIVATIVES @F THETA AND V F@R NEXT X INCREMENT,
DB 115 J=1,N-1|
L=N-J

IF(L-1) 303,303,302
302 IF(P(L-1).GE,PMIND,AND,P(L-1).LE.,PMAXD ,AND . .H(L-1).GE.HMINDL ,ANL H(L

0 l1-1).LE.EMAXD) GO TP 241
WRITE(IW,240) L,KT,KI
240 FPRMAT(1X, EITHER P(L) @R H(L), OR B@TH, IS B8UT OF RANGE @F TABD F

¢ 1R L=",14,°’,KT=’,110,°,KI=",14)
WRITE(IW,9000) P‘L),H(L)
9000 FOPRMAT(1X,‘P(L)=’,F8.2,° H(L)=",F8.2)
WRITE(IW,9050) (P(L),H(L),L=1,N)
9050 FPRMAT(2F12,2)
Ge TP 99
24! CALL TERP3(TABD,TABT,H(L-l),P{(L-1),D(L-1),T(L-1),HMIND,HMAXD,DELHD

e |, NHD , PMIND, PMAXD, DELPD,NPD )
DV2=(D(L-15-D(L+1))/(D(L)*z*nx)*l.z4
G@ TP 304
303 DV2=(DLB-D(L+1)}/(D(L)*2*DX)*],E4
304 IDVI(2)=IFIX(DV2)
IF(KT-1) 236,236,237
236 DK(L)=D(L)
237 DVI1=SFV*(D(L)-DK(L))/(D(L)*DT)*1.E2
IF(DVl) 2535,2536,2536
2536 XY=DV1+,.5
G@ TB 2537
2535 XY=pVl-,5
2537 IDVI(1)=IFIX(XY)
IF(KI-M) 239,238,238
238 DK(L)=D(L)
239 CONTINUE
IF(T(L)+.GE,TMINM,AND.T(L).LE,TMAXM,AND,.P(L ) .GE ,PMINM,AND .P(L ) .LE.P

e IMAXM) G& T@ 251
WRITE(IW,250) L,KT,KI
250 FORMAT(1X, ‘EITHER P(I) @R T(I), OR BATH, IS 9UT BF RANGE @F TABMU
\FUR I1=°,14,°,KT=°,110, ,KI=",14)
Go Tg 99
25} CALL TERP2(TABMU,T(L),P(L),WMU(L),TMINM,TMAXM,DELTM,NTM, PMINM,PMAX

1M, DELPM, NPM)
IF(P(L).GE,PMINK.AND.P(L).LE.PMAXK.AND,T(L ) .GE.TMINK.ANLU,.T(L ) JLE.T

¢ IMAXK) GO T2 261
WRITE(IW,260) L,KT,KI
260 FORMAT(1X, EITHER P(I) B8R T(I), PR B@TH, IS @UT @F RANGE @F TABK F

1R I=°,14,',KT=",1l0,’,KI=",614)
Gh TB 99
261 CALL TERP3(TABK,TABPR,T(L),P(L),CW(L),PR(L),TMINK, TMAXK, DELTK,NTK,

@ I PMINK, PMAXK, DELPK, NPK)
RE(L)=CON1*D(L)*V(L)/WMU(L)
Qa0On0n

262
263
265
2539

2538
2540

266
267

268
269

115

243

244

153

3111

/3

HIBHKI*CWSL)*RE(L *# Q23#pR(L )%**,6]3
HTCaHI®*HP*HK3/ (HI*HE+HI*HK3+HO*HK3)
Z=(HTC*RK2+1/DT)/VS
IF(KT-1) 262,262,263
THETAK(L )=THETA(L)
DT1=(HTC*RK2*T(L )+THETAK(L ) /DT )*50./VS-2%,525E5
DT1S=DT | *SFVS
IF(DTIS) 2538,2539,2539
XY¥=DT|1S+,.5
G¥ TP 2540
XY=DT|S-,5
DTZ‘Z'I.M
DT2S=DT2%SFVS
YZ=DT2S+.5
IDVI(3)=IFIX(XY)
IDVI(4)=IFIX(Y2)
CHECK ANAL@G CPMPUTER FPR H@LD M@DE.
IF(ITEST(IE,0,15)) 266,266,267
CONTINUE
RESET CLEAR BIT, BIT 15,
CALL SETWD(0,40)
READ THE SALT TEMP, AND THE WATER VELOCITY AT X STATION L.
CALL ADDR(6260, IAB4)
CALL SCANH(IAB4, IVTHET,2)
V(L )}=IVIHET(1)*},E~2/SFV
THETA(L )=1IVTHET(2)*2.E-2+1050,
IF(KI-M) 269,268,268
THETAK(L )=THETA(L )
VK(L)=V(L)
CUNTINUE
SET CPEFFICIENT DEVICES F@R NEXT SPACE INCREMENT.
CALL SETBB4
PUT THE RIGHT T@ LEFT INTEGRATQRS IN THE @P M@DE,
CALL SETWD(0,44)
CONTINUE
LET INTEGRATI¢UN PRACEED WITH DERIVATIVES AT STATION 1,T@ GET
VALUES AT LEFT B@UNDARY,
CHECK F#R INTEGRATPR H@LD M@DE,
IF(ITEST(IE,0, 15)) 243,243,244
CALL ADDR(6260,1AB4)
CALL SCANH(IAB4, IVTHET, 2)
VLB=IVTHET(l)*1,E-2/SFV
THETLB=1VTHET(2)%*2.E~2+1050,
IF(KI-M) 152,153,153
VKLB=VLB
GW T HOLD MODE ON SALT TEMP, T-H AMPLIFIER.
CALL SETLIiI(I1E,0,10,0)
READ THE VALUES @F T(N),P(N),V(N),ANUD(N),ANV SET THEIR
VALUES 9N T-H AMPLIFIERS,
TEMPP=T(N)*5.0
IAUTV( 1 )=IFIX(TEMPJ)
PPUT=P(N)¥*2.0
IYUTV(2)=IFIX(PQUT)
VBUT=V (N )*50. _
IPUTV(3)=IPIX(VPUT)
DPUT=D(N)*1.E3
I6UTV(4 )=IFIX(DQUT)
D@ 3111 L=1,4
CALL STIND(IE, IBUTA(L),IQUTV(L))
CONTINUE
D@ 600 LL=1,N
STPR=V(LL)
V(LL )=ALF*V(LL )+(l.,-ALF )*VL(LL)
VL (LL })=ST2R
STOR=THETA(LL)
THETA(LL )=ALF*THETA(LL )+( | ., ~ALF ) *THETAL (LL )
74

600 THETAL(LL )=ST@R
C IF LESS THAN M’TH ITERATION, GO T@ NEXT ITERATI@N,

C
o

IF M°TH ITERATION, WAYF FOR END ¢F TIME STEP.
RESET DELTA T TIMER AND PROCEED WITH NEXT TIME STEP.
IF (KI~M) 1000, 2000, 2000

2000 KX= ITEST(IE,OQ, 14)

C

2001

HAS TIME STEP TIMER TIMED @BUT?
IF (ITEST(IE,O, 14)) 2002,2002,2001
WRITE(IW,2010)

2010 FORMAT(1X, “THE CPMPUTER TIME REQUIRED PER TIME STEP EXCEEDS

2002
2004

99

ITHE DELTA T ALL@WED.’)

GO To 99

WAIT FOR TIME STEP TIMER T@ TIME @UT.
IF(ITEST(IE,O, 14)) 2002, 2002, 2004

PUT SALT TEMP, T-H AMPLIFIER IN TRACK M@DE.

CALL SETLI(I1E,0,10,1)

GO TP 2003

RETURN

END

SUBR@QUTINE TERP2(TAB,X,Y,VAL,X!,XN,DX,NX,Y},¥YN,DY,NY)
DIMENSIYN TAB(NX,NY)

CALL FRACl{X!,XN,DX,IX,FRX,X)

CALL FRACI(Yl,¥YN,DY,IY,FRY,Y)
VAL=TAB(IX,IY)*(1.-FRX)¥*(1.-FRY)+TAB(IX,IY+l)%(1.-FRX)*FRY+TAB(IX+

11, IY)*FRX*( 1. -FRY)+TAB(IX+1,IY+])*FRX*FRY

RETURN

END

SUBROUTINE FRAC!(X!,XN,DX,IX,FRX,X)

DUNIT=(X-X1)/DX

IX=IFIX(DUNIT)+1

FRX=DUNIT+1,.,-IX

RETURN

END

SUBRYUTINE TERP3(TBI!,TB2,X,Y,VL1,VL2,X},XN,DX ,NX,Y!,YN,DY,NY)
DIMENSIPN TB)(NX,NY),TB2(NX,NY)

CALL FRAC1{Xl,XN,DX,IX,FRX,X)

CALL FRACI(Yl,¥YN,DY,IY,FRY,Y)

Al=(1.-FRx)*(1.-FRYS
A2=FRX*(1.=-FRY)
A3=FRX*FRY
A=FRY*(l,-FRX)
VLi=TB1(IX,IY)*A1+TBl(IX+],IY)*A2+TBIl(IX+1,IY+1)*A3+TBL(IX,IY+1)*A

VL2=TB2(IX,IY)*Al+TB2(IX+1,IY)*A2+TB2(IX+1,IY+1)*A3+TB2(IX,IY+1)*A

RETURN
END
SE1BBI ¢

JorEZ:

SETBB<:

JBrFZ:

SE1BB3:

SETBB4 :

75

TLLLE SeYBBI

ENTRY SETBBI

EXTERN VALUL,ADDRS| ,NSEQI
O

MpVN 1, NSEQ]

DATAY 700, [22]

DATAY T704,@ADDRSI

DATAp 700, [33]

DATAY 704,6€VALU]

ApJL 1 ,JBKF2

DATAW 700, [30]

DATap 704, [7]

JrRa lo,(16)

END

TITLE SETBB2

ENTRY SETBBZ2

EXTERN VALUZ2,ADDRS2,NSEQZ
o .
MUVN 1 ,NSEQZ

Datayp 700, [22]

DATAY 704,@ADDRS2

DATAY 700, [33]

DATAY 704,8VALUZ

AyJL |,JBF2

Dalay 700, [30]

DATAY 704, [7]

JrRAa 16,10}

END

TITLe SETBB3

ENIRY SETBB3

EXTERN VALU3,ADDRS3,NSEQ3
0

MBVN | ,NSEQ3

Datay 700, [22]

DATAQ 704,8ADDRS3

DaTap 700, [33]

DaTAp 704,@VALU3

ApJL 1,JBF2

DATAB 700, [30]

DaTap 704, [7]

JRA lob,(l6)

END

TITLe SETBB4

ENTRY SETBB4

EXTERN VALU4, ADDRS4,NSEQ4
0

MGVN 1, NSEQ4

pDaTap 700, [22]

DATAY 704, 8ADDRS4

bATap 700, [33]
JBEFZ:

PREB}:

SAV:
VALU!L ¢
ADDRS]:

PREBZ2:

76

DATAp 704,@VALU4
AUJL 1,JBF2
DATAY 700, [30]
DATAQ 704, [7]
JRA 16, (16)
END

TIVYLe PREBI
ENTRY PREBI
EX1TERN ARGTRN
INTERN VALUIl, ADDRS],NSEQI
0

MOVEM 1, SAV+]
MPVEM O, SAV
M@VE 0,€2(106)
MVeEM  O,NSEQIL#
JSR ARGTRN

JUumP 0,0

ADD  |,NSEQI
Hrrm | ,ADDRS]
JSR ARGTRN

JUmP 0O,

ADD 1,NSEQI
HRRM 1,VALUI
MUVE O, SAV
MUVE 1,S5AaV+1
JRA lo,3(16)
BLBCK 2
00000 [ 000000
00000 1000000
END

TITLE PRBBZ2
ENTRY PReBZ
EXTERN ARGTRN
INTERN VALUZ, ADDRS2,NSEQZ
O

MPVEM 1,SAV+]
MoVeM O, SAV
MUVE 0,e2(16)
MUVEM O, NSEQ2#
JSR ARGTRN
JumpbP 0,0

ADD 1,NSEQ2
HRR# |, ADDRSZ
JSR ARGTRN
JUMP 0, |

ADD  1,NSEQ2
HRRI  1,VALU2
MUVE O, SAV
MUVE 1,5AV+]
JRA lo,3(16)
SAV:
VALUZ:
ADDRSZ:

PREB3:

SAV:
VALU3S:
ADDRS3:;

PREB4

SAV:
VALU4:
ADDRS4:

77

BLWCK 2
00000 1 000000
00000 1 0QV000
END

TITLE PREB3
EN1RY PREB3
EXYERN ARGTRN
INTERN VALU3, ADDRS3,NSEQ3
O

MBVEM |,SAV+]
MOVEN O, SAV
MpveE ©0,@2(16)
MoVEMm O,NSLQ3#
JSR ARGTRN
JUMP 0,0

ADD 1,NSEQ3
HRRM |,ADDRS3
JSR ARGTRN
JumpP 0,1

ADD 1,NSEQ3
HRRM |, VALU3
MpVe O, SAV
MPVE |, SAV+]
JRa  lo,3(16)
BLbUCK 2
00000 | 000000
00000 | 000000
END

TITLE PRES4
ENTRY PRLEB4
EXT RN ARGTRN
INTBERN VALU4, ADDRS4,NSEQ4
o

MPVEM | ,SAV+]
MpvVeEM O, SAV
MpVe 0,@2(16)
MPViEN  O,NSnQ4#
JSR ARGTRN
JuKMp 0,0

ADD 1 ,NSEQ4
HRRM 1,ADDRS4
JSR ARGTRN
JUMP O,1

ADD 1,NSEQ4
HRRi 1,VALU4
MEVE O, SAV
MPVE 1,SAV+l
JRA lo,3(1v)
BLYCK 2

00000 000000
00000 1000000
END
78

7.2.2 Steam Generator Equation Variables

 

ALF Weighting variable.

AT Area of steam throttle opening, normalized to a value of 1.0 for design point.
C Coefficient of friction.

CFCON  Normalization constant in the steam throttle equation.

CONI1 Normalization constant used in the Reynolds number formula.

CW Coefficient of friction of water.

CWLB Coefficient of friction of water at the left boundary.

CWRB Coefficient of friction of water at the right boundary.

D Water density.

DELHD Spacing of enthalpy points in TABD.
DELPD Spacing of pressure points in TABD .
DELPH Spacing of pressure points in TABH.
DELPK Spacing of pressure points in TABK.
DELPM Spacing of pressure points in TABMU.
DELPP Spacing of pressure points in TABPR.
DELPT Spacing of pressure points in TABT.
DELTH Spacing of temperature points in TABH.
DELTK Spacing of temperature points in TABK.
DELTM Spacing of temperature points in TABMU.

DELTP Spacing of temperature points in TABPR.
DELTT
DHI
DHI1S
DHILB
DHILBS
DH2
DH2S
DH2LB
DH2LBS
DK
DLB
DOUT
DT
DTI
DT1S
DTIRB
DTIRBS
DT2
DT2S
DT2RB
DT2RBS

DV1

79

Spacing of enthalpy points in TABT.

Terms of dH/dX not containing H.

Analog computer scaled value of DHI1.

DH1 at left boundary.

Analog computer scaled value of DHILB.

Terms of dH/dX containing H (feedback).

Analog computer scaled value of DH2.

DH2 at left boundary.

Analog computer scaled value of DH2LB.

Water density for the immediately preceding time step.
Water density at the left boundary.

Water density at the water outlet of the steam generator.
Length of time in each calculational time step.

Terms of d(THETA)/dX not containing THETA.,
Analog computer scaled value of DT1.

DTI at right boundary.

Analog computer scaled value for DT1RB.

Terms of d(THETA)/dX containing THETA (feedback).
Analog computer scaled value for DT2.

DT2 at right boundary.

Analog computer scaled value for DT2RB.

Terms of dV/dX not containing V.
DAYV
DV 1RB
DV 1RBS

DX

HI

HILB
HIRB
HK

HK1
HK?2
HK3

HL

HLB
HLBS
HMAXD
HMAXT
HMIND
HMINT
HO

HSF

HTC

80

Terms of dV/dX containing V (feedback).

DV1 at right boundary.

Anqlog computer scaled value for DVIRB.

Distance in the direction of water flow, X, between coefficient update
stations.

Water enthalpy.

The film heat transfer coefficient on the inside of the tube wall.
Hl at left boundary.

H1 at right boundary.

The value of H for the immediately preceding time step.
Constant used in calculation of HI.

Constant used in calculation of HO.

Heat transfer coefficient of tube wall.

The value of H for the immediately preceding time step.

H at left boundary.

Analog computer scaled value for HLB.

The maximum value of H in TABD.

The maximum value of H in TABT.

The minimum value of H in TABD.

The minimum value of H in TABT.

The film heat transfer coefficient on the outside tube wall.
Scale factor for DH1.

The overall heat transfer coefficient (salt to water).
HTCLB
HTCRB
IAR
IDH

IDH1

IDV

IDV1
ILB
IOUTA

IOUTV

IR

IT
IVTHET
W

Kl

KT

KX

81

HTC at left boundary.

HTC at right boundary.

An array of values read from the analog computer.
An array of values to be set on specified coeff. devices on the analog computer.
An array of values to be set on specified coefficient devices on the analog
computer.

An array of values to be set on specified coefficient devices on the analog
computer.

An array of values to be set on specified coeff. devices on the analog computer.
An array of values read from the analog computer (PLB, TLB, and VS).

An array of analog computer addresses.

An array of values to be read from the analog computer, using the addresses in
IOUTA.

The device number of the reading device.

The code number used to set the analog computer time scale.

An array of values to be read from the analog computer.

The device number of the output device.

Iteration count variable.

Time step count variable.

Dummy variable.

Number of iterations per time step.

Number of coefficient update stations in the X direction.
NHD
NPD
NPH
NPK
NPM
NPP
NPT
NTH
NTK
NTM
NTP

NTT

PHLB
PK

PKF

PL

PLB
PMAXD
PMAXH
PMAXK

PMAXM

82

Number of enthalpy grid points in TABD.
Number of pressure grid points in TAB.D.
Number of pressure grid points in TABH.
Number of pressure grid points in TABK.
Number of pressure grid points in TABMU.
Number of pressure grid points in TABPR.
Number of pressure grid points in TABT.
Number of temperature grid points in TABH.
Number of temperature grid points in TABK.
Number of temperature grid points in TABMU.
Number of temperature grid points in TABPR.
Number of enthalpy grid points in TABT.
Water pressure.

H at the left boundary for the immediately preceding time step.
Constant in dP/dX.

Constant in dP/dX.

Water pressure value for the immediately preceding time step.
Water pressure at the left boundary.

Maximum pressure in TABD.

Maximum pressure in TABH.

Maximum pressure in TABK.

Maximum pressure in TABMU.
o

PMAXP

PMAXT

PMIND

PMINH

PMINK

PMINM

PMINP

PMINT

PR

PRLB

PRRB

POUT

RE

RELB

RERB

RK1

RK2

SFH

SFV

SFVS

SVT

83

Maximum pressure in TABPR.
Maximum pressure in TABT.
Minimum pressure in TABD.
Minimum pressure in TABH.
Minimum pressure in TABK.
Minimum pressure in TABMU.
Minimum pressure in TABPR.
Minimum pressure in TABT.
Prandtl number.

Prandt! number at left boundary.
Prandt] number at right boundary.
Water pressure at steam generator outlet.
Reynolds number.

Reynolds number at |éff boundary.
Reynolds number at right boundary.
Constant.

Constant.

Scale factor for H.

Scale factor for throttle area.
Scale factor for VS.

Scaled throttle area.

Water temperature.
TABD
TABH
TABK
TABMU
TABPR
TABT
TEMPO
THETA
THETAK

THETK1

THETLB
TLB
TMAXH
TMAXK
TMAXM
TMAXP
TMINH
TMINK
TMINM
TMINP

Vv

84

Table expressing water density as a function of P and H.

Table expressing water enthalpy as a function of P and T.

Table expressing thermal conductivity of water as a function of P and T.
Table expressing viscosity of water as a function of Pand T.

Table expressing the Prandtl number of water as a function of P and T.
Table expressing water temperature as a function of P and H.

Water temperature at steam generator outlet.

Secondary salt temperature.

Secondary salt temperature at the immediately preceding time step.
Secondary salt temperature at the left boundary for the immediately preceding
time step.

Secondary salt temperature at the left boundary.

Water temperature at the left boundary.

Maximum temperature in TABH.

Maximum temperature in TABK.

Maximum temperature in TABMU.

Maximum temperature in TABPR.

Minimum ’rempera.’rure in TABH.

Minimum temperature in TABK.

Minimum temperature in TABMU.

Minimum temperature in TABPR.

Water velocity.
VK
VKLB
VLB
VOUT
VS

VT
WMU
WMULB

WMURB

85

Water velocity value for the immediately preceding time step.
VK at left boundary.

Water velocity at left boundary.

Water velocity at steam generator outlet (water).
Secondary salt velocity.

Water velocity at throttle.

Water viscosity.

Water viscosity at left boundary.

Water viscosity at right boundary.
—_—
W N —
. - .

14-18.
19.
20.
21.
22.
23.
24,
25.
26,
27.
28.
29.
30.
31.
32.
33.
34.
35.
36.

71,
72.
73.
74,

75-76.

O:OCD\IONLHACDI\)—A

87

ORNL-TM=3767
INTERNAL DISTRIBUTION

J. L. Anderson 37. T. W. Kerlin

C. F. Baes 38. J. J. Keyes

S. J. Ball 39. Kermit Laughon

H. F. Bauman 40. M. I. Lundin

S. E. Beall 41. H. G. McPherson

M. Bender 42. R. E. McPherson

C. E. Bettis 43. H. E. McCoy

E. S. Bettis 44. H. A. Mclain

E. G. Bohlmann 45. L. E. McNeese

R. S. Booth 46. J. R. McWherter

C. J. Borkowski 47. R. L. Moore

G. E. Boyd 48. E. L. Nicholson

R. B. Briggs 49. L. C. Odkes

O. W. Burke 50. A. M. Perry

O. B. Cavin 51. T. W. Pickel

N. E. Clapp, Jr. 52-53. M. W. Rosenthal

F. H. Clark 54. G. S. Sadowski

D. F. Cope 55. Dunlap Scott

J. L. Crowley 56. W. H. Sides, Jr.

F. L. Culler 57. M. J. Skinner

J. R. Distefano 58. R. S. Stone

S. J. Ditto 59. J. R. Tallackson

W. P. Eatherly 60. R. E. Thoma

J. R. Engel 61. D. B. Trauger

D. E. Ferguson 62. A. M. Weinberg

L. M. Ferris 63. J. R. Weir

W. R. Grimes 64. J. C. White-~A. S. Meyer
A. G. Grindell 65-66. Central Research Library
P. N. Haubenreich 67. Document Reference Section
R. E. Helms 68~69. Laboratory Records Department
W. H. Jordan 70. Laboratory Records, ORNL R.C.
P. R. Kasten

EXTERNAL DISTRIBUTION

John F. Cox, Nuclear Department, Foster Wheeler Corporation, 110 South
Orange Avenue, Livingston, N. J. 07039

C. B. Deering, Black and Veatch Engineers, 1500 Meadowlake Parkway, Kansas
City, Missouri 64114

Ronald Feit, Instrumentation and Control Branch, Division of Reactor Development
and Technology, U. S. Atomic Energy Commission, Washington, D. C. 20545

George McCright, Black and Veatch Engineers, 1500 Meadowlake Parkway, Kansas
City, Missouri 64114

T. W. Mcintosh, Division of Reactor Development and Technology, U. S. Atomic
Energy Commission, Washington, D. C. 20545
88

77. H. G. O'Brien, Tennessee Valley Authority, 210A Union Building, Knoxville,
Tennessee 37902

78. M. Shaw, Division of Reactor Development and Technology, U. S. Atomic Energy
Commission, Washington, D. C. 20545

79. C. S. Walker, Tennessee Valley Authority, Union Building, Knoxville, Tennessee
37902

80. J. R. Trinko, Ebasco Services Incorporated, 2 Rector Street, New York, N. Y.
10006 \

81. Research and Technical Support Division, AEC, ORO

82-83. Division of Technical Information Extension
